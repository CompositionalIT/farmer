<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content="Farmer - Making repeatable Azure deployments easy!"><link rel=icon href=/farmer/images/farmer-favicon.png type=image/png><title>Azure Security Best Practices :: Farmer</title><link href=/farmer/css/nucleus.css?1764939373 rel=stylesheet><link href=/farmer/css/fontawesome-all.min.css?1764939373 rel=stylesheet><link href=/farmer/css/hybrid.css?1764939373 rel=stylesheet><link href=/farmer/css/featherlight.min.css?1764939373 rel=stylesheet><link href=/farmer/css/perfect-scrollbar.min.css?1764939373 rel=stylesheet><link href=/farmer/css/auto-complete.css?1764939373 rel=stylesheet><link href=/farmer/css/atom-one-dark-reasonable.css?1764939373 rel=stylesheet><link href=/farmer/css/theme.css?1764939373 rel=stylesheet><link href=/farmer/css/hugo-theme.css?1764939373 rel=stylesheet><link href=/farmer/css/theme-green.css?1764939373 rel=stylesheet><script src=/farmer/js/jquery-3.3.1.min.js?1764939373></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/farmer/tutorials/azure-security-best-practices/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/farmer/images/logo.png></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/farmer/js/lunr.min.js?1764939373></script><script type=text/javascript src=/farmer/js/auto-complete.js?1764939373></script><script type=text/javascript>var baseurl="https:\/\/compositionalit.github.io\/farmer\/";</script><script type=text/javascript src=/farmer/js/search.js?1764939373></script></div><div class=highlightable><ul class=topics><li data-nav-id=/farmer/about/ title=About class=dd-item><a href=/farmer/about/>About</a></li><li data-nav-id=/farmer/quickstarts/ title=Quickstarts class=dd-item><a href=/farmer/quickstarts/>Quickstarts</a><ul><li data-nav-id=/farmer/quickstarts/quickstart-1/ title="Your first Farmer template" class=dd-item><a href=/farmer/quickstarts/quickstart-1/>Your first Farmer template</a></li><li data-nav-id=/farmer/quickstarts/quickstart-2/ title="Working with multiple resources" class=dd-item><a href=/farmer/quickstarts/quickstart-2/>Working with multiple resources</a></li><li data-nav-id=/farmer/quickstarts/quickstart-3/ title="Deploying to Azure" class=dd-item><a href=/farmer/quickstarts/quickstart-3/>Deploying to Azure</a></li><li data-nav-id=/farmer/quickstarts/template/ title="The Farmer .NET Template" class=dd-item><a href=/farmer/quickstarts/template/>The Farmer .NET Template</a></li></ul></li><li data-nav-id=/farmer/tutorials/ title=Tutorials class="dd-item
parent"><a href=/farmer/tutorials/>Tutorials</a><ul><li data-nav-id=/farmer/tutorials/traditional-ea/ title="Traditional Enterprise Application to the Azure Cloud, managed via Farmer" class=dd-item><a href=/farmer/tutorials/traditional-ea/>Traditional Enterprise Application to the Azure Cloud, managed via Farmer</a></li><li data-nav-id=/farmer/tutorials/webapp-deploy/ title="Deploy an ASP.NET app" class=dd-item><a href=/farmer/tutorials/webapp-deploy/>Deploy an ASP.NET app</a></li><li data-nav-id=/farmer/tutorials/multi-tenant-saas-architecture/ title="Multi-Tenant SaaS Architecture Patterns on Azure" class=dd-item><a href=/farmer/tutorials/multi-tenant-saas-architecture/>Multi-Tenant SaaS Architecture Patterns on Azure</a></li><li data-nav-id=/farmer/tutorials/azure-cost-optimization/ title="Azure Cost Optimization Strategies" class=dd-item><a href=/farmer/tutorials/azure-cost-optimization/>Azure Cost Optimization Strategies</a></li><li data-nav-id=/farmer/tutorials/azure-security-best-practices/ title="Azure Security Best Practices" class="dd-item active"><a href=/farmer/tutorials/azure-security-best-practices/>Azure Security Best Practices</a></li><li data-nav-id=/farmer/tutorials/custom-output/ title="Custom Output with ARM Expressions" class=dd-item><a href=/farmer/tutorials/custom-output/>Custom Output with ARM Expressions</a></li><li data-nav-id=/farmer/tutorials/keyvault-certs/ title="Declarative Steps in an ARM Deployment" class=dd-item><a href=/farmer/tutorials/keyvault-certs/>Declarative Steps in an ARM Deployment</a></li><li data-nav-id=/farmer/tutorials/minecraft-server-aci/ title="Create your own Minecraft Server" class=dd-item><a href=/farmer/tutorials/minecraft-server-aci/>Create your own Minecraft Server</a></li><li data-nav-id=/farmer/tutorials/aci-fsx/ title="F# Script in a Container Group" class=dd-item><a href=/farmer/tutorials/aci-fsx/>F# Script in a Container Group</a></li><li data-nav-id=/farmer/tutorials/cosmos-backed-webapp/ title="Cosmos-backed Web App" class=dd-item><a href=/farmer/tutorials/cosmos-backed-webapp/>Cosmos-backed Web App</a></li><li data-nav-id=/farmer/tutorials/multiple-web-apps/ title="Multiple web apps" class=dd-item><a href=/farmer/tutorials/multiple-web-apps/>Multiple web apps</a></li><li data-nav-id=/farmer/tutorials/serverless-etl/ title="Serverless ETL" class=dd-item><a href=/farmer/tutorials/serverless-etl/>Serverless ETL</a></li><li data-nav-id=/farmer/tutorials/web-storage-keyvault/ title="Web App Secrets with KeyVault" class=dd-item><a href=/farmer/tutorials/web-storage-keyvault/>Web App Secrets with KeyVault</a></li></ul></li><li data-nav-id=/farmer/api-overview/ title="API Overview" class=dd-item><a href=/farmer/api-overview/>API Overview</a><ul><li data-nav-id=/farmer/api-overview/template-generation/ title="Generating templates" class=dd-item><a href=/farmer/api-overview/template-generation/>Generating templates</a></li><li data-nav-id=/farmer/api-overview/expressions/ title="ARM Expressions" class=dd-item><a href=/farmer/api-overview/expressions/>ARM Expressions</a></li><li data-nav-id=/farmer/api-overview/parameters/ title="Parameters and Variables" class=dd-item><a href=/farmer/api-overview/parameters/>Parameters and Variables</a></li><li data-nav-id=/farmer/api-overview/basic-types/ title="Basic Types" class=dd-item><a href=/farmer/api-overview/basic-types/>Basic Types</a></li><li data-nav-id=/farmer/api-overview/dependencies/ title=Dependencies class=dd-item><a href=/farmer/api-overview/dependencies/>Dependencies</a></li><li data-nav-id=/farmer/api-overview/outputs/ title=Outputs class=dd-item><a href=/farmer/api-overview/outputs/>Outputs</a></li><li data-nav-id=/farmer/api-overview/resources/ title=Resources class=dd-item><a href=/farmer/api-overview/resources/>Resources</a><ul><li data-nav-id=/farmer/api-overview/resources/prometheus-rule-group/ title="Alert Management - Prometheus Rule Groups" class=dd-item><a href=/farmer/api-overview/resources/prometheus-rule-group/>Alert Management - Prometheus Rule Groups</a></li><li data-nav-id=/farmer/api-overview/resources/data-collection/ title="Azure Monitor - Data Collection" class=dd-item><a href=/farmer/api-overview/resources/data-collection/>Azure Monitor - Data Collection</a></li><li data-nav-id=/farmer/api-overview/resources/b2c-tenant/ title="B2C Tenant" class=dd-item><a href=/farmer/api-overview/resources/b2c-tenant/>B2C Tenant</a></li><li data-nav-id=/farmer/api-overview/resources/action-group/ title="App Insights - Action Group" class=dd-item><a href=/farmer/api-overview/resources/action-group/>App Insights - Action Group</a></li><li data-nav-id=/farmer/api-overview/resources/application-gateway/ title="Application Gateway" class=dd-item><a href=/farmer/api-overview/resources/application-gateway/>Application Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/alert/ title="App Insights - Alerts" class=dd-item><a href=/farmer/api-overview/resources/alert/>App Insights - Alerts</a></li><li data-nav-id=/farmer/api-overview/resources/availability-tests/ title="App Insights - Availability Tests" class=dd-item><a href=/farmer/api-overview/resources/availability-tests/>App Insights - Availability Tests</a></li><li data-nav-id=/farmer/api-overview/resources/azure-firewall/ title="Azure Firewall" class=dd-item><a href=/farmer/api-overview/resources/azure-firewall/>Azure Firewall</a></li><li data-nav-id=/farmer/api-overview/resources/aks-cluster/ title="AKS Cluster" class=dd-item><a href=/farmer/api-overview/resources/aks-cluster/>AKS Cluster</a></li><li data-nav-id=/farmer/api-overview/resources/app-insights/ title="App Insights" class=dd-item><a href=/farmer/api-overview/resources/app-insights/>App Insights</a></li><li data-nav-id=/farmer/api-overview/resources/bing-search/ title="Bing Search" class=dd-item><a href=/farmer/api-overview/resources/bing-search/>Bing Search</a></li><li data-nav-id=/farmer/api-overview/resources/bastion-host/ title="Bastion Host" class=dd-item><a href=/farmer/api-overview/resources/bastion-host/>Bastion Host</a></li><li data-nav-id=/farmer/api-overview/resources/container-apps/ title="Container Apps" class=dd-item><a href=/farmer/api-overview/resources/container-apps/>Container Apps</a></li><li data-nav-id=/farmer/api-overview/resources/communication-services/ title="Communication Services" class=dd-item><a href=/farmer/api-overview/resources/communication-services/>Communication Services</a></li><li data-nav-id=/farmer/api-overview/resources/container-group/ title="Container Group" class=dd-item><a href=/farmer/api-overview/resources/container-group/>Container Group</a></li><li data-nav-id=/farmer/api-overview/resources/container-registry/ title="Container Registry" class=dd-item><a href=/farmer/api-overview/resources/container-registry/>Container Registry</a></li><li data-nav-id=/farmer/api-overview/resources/cognitive-services/ title="Cognitive Services" class=dd-item><a href=/farmer/api-overview/resources/cognitive-services/>Cognitive Services</a></li><li data-nav-id=/farmer/api-overview/resources/cosmos-db/ title="Cosmos DB" class=dd-item><a href=/farmer/api-overview/resources/cosmos-db/>Cosmos DB</a></li><li data-nav-id=/farmer/api-overview/resources/cdn/ title=CDN class=dd-item><a href=/farmer/api-overview/resources/cdn/>CDN</a></li><li data-nav-id=/farmer/api-overview/resources/dns-resolver/ title="DNS Resolver" class=dd-item><a href=/farmer/api-overview/resources/dns-resolver/>DNS Resolver</a></li><li data-nav-id=/farmer/api-overview/resources/dashboard/ title=Dashboard class=dd-item><a href=/farmer/api-overview/resources/dashboard/>Dashboard</a></li><li data-nav-id=/farmer/api-overview/resources/databricks-workspace/ title="Databricks Workspace" class=dd-item><a href=/farmer/api-overview/resources/databricks-workspace/>Databricks Workspace</a></li><li data-nav-id=/farmer/api-overview/resources/deployment-script/ title="Deployment Script" class=dd-item><a href=/farmer/api-overview/resources/deployment-script/>Deployment Script</a></li><li data-nav-id=/farmer/api-overview/resources/dns/ title="DNS Zone" class=dd-item><a href=/farmer/api-overview/resources/dns/>DNS Zone</a></li><li data-nav-id=/farmer/api-overview/resources/data-lake/ title="Data Lake" class=dd-item><a href=/farmer/api-overview/resources/data-lake/>Data Lake</a></li><li data-nav-id=/farmer/api-overview/resources/diagnosticsetting/ title="Diagnostic Settings" class=dd-item><a href=/farmer/api-overview/resources/diagnosticsetting/>Diagnostic Settings</a></li><li data-nav-id=/farmer/api-overview/resources/dedicated-hosts/ title="Dedicated Hosts" class=dd-item><a href=/farmer/api-overview/resources/dedicated-hosts/>Dedicated Hosts</a></li><li data-nav-id=/farmer/api-overview/resources/route-tables/ title="Route Tables" class=dd-item><a href=/farmer/api-overview/resources/route-tables/>Route Tables</a></li><li data-nav-id=/farmer/api-overview/resources/nat-gateway/ title="NAT Gateway" class=dd-item><a href=/farmer/api-overview/resources/nat-gateway/>NAT Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/event-grid/ title="Event Grid" class=dd-item><a href=/farmer/api-overview/resources/event-grid/>Event Grid</a></li><li data-nav-id=/farmer/api-overview/resources/express-route/ title=ExpressRoute class=dd-item><a href=/farmer/api-overview/resources/express-route/>ExpressRoute</a></li><li data-nav-id=/farmer/api-overview/resources/event-hub/ title="Event Hub" class=dd-item><a href=/farmer/api-overview/resources/event-hub/>Event Hub</a></li><li data-nav-id=/farmer/api-overview/resources/network-interface/ title="Network Interface" class=dd-item><a href=/farmer/api-overview/resources/network-interface/>Network Interface</a></li><li data-nav-id=/farmer/api-overview/resources/route-server/ title="Route Server" class=dd-item><a href=/farmer/api-overview/resources/route-server/>Route Server</a></li><li data-nav-id=/farmer/api-overview/resources/functions/ title=Functions class=dd-item><a href=/farmer/api-overview/resources/functions/>Functions</a></li><li data-nav-id=/farmer/api-overview/resources/iot-hub/ title="IOT Hub" class=dd-item><a href=/farmer/api-overview/resources/iot-hub/>IOT Hub</a></li><li data-nav-id=/farmer/api-overview/resources/gallery/ title=Gallery class=dd-item><a href=/farmer/api-overview/resources/gallery/>Gallery</a></li><li data-nav-id=/farmer/api-overview/resources/image-template/ title="Image Template" class=dd-item><a href=/farmer/api-overview/resources/image-template/>Image Template</a></li><li data-nav-id=/farmer/api-overview/resources/keyvault/ title="Key Vault" class=dd-item><a href=/farmer/api-overview/resources/keyvault/>Key Vault</a></li><li data-nav-id=/farmer/api-overview/resources/private-endpoint/ title="Private Endpoint" class=dd-item><a href=/farmer/api-overview/resources/private-endpoint/>Private Endpoint</a></li><li data-nav-id=/farmer/api-overview/resources/private-link-service/ title="Private Link Service" class=dd-item><a href=/farmer/api-overview/resources/private-link-service/>Private Link Service</a></li><li data-nav-id=/farmer/api-overview/resources/logic-apps/ title="Logic Apps" class=dd-item><a href=/farmer/api-overview/resources/logic-apps/>Logic Apps</a></li><li data-nav-id=/farmer/api-overview/resources/load-balancer/ title="Load Balancer" class=dd-item><a href=/farmer/api-overview/resources/load-balancer/>Load Balancer</a></li><li data-nav-id=/farmer/api-overview/resources/loganalytics/ title="Log Analytics" class=dd-item><a href=/farmer/api-overview/resources/loganalytics/>Log Analytics</a></li><li data-nav-id=/farmer/api-overview/resources/managed-identity/ title="Managed Identity" class=dd-item><a href=/farmer/api-overview/resources/managed-identity/>Managed Identity</a></li><li data-nav-id=/farmer/api-overview/resources/maps/ title=Maps class=dd-item><a href=/farmer/api-overview/resources/maps/>Maps</a></li><li data-nav-id=/farmer/api-overview/resources/nsg/ title="Network Security Group" class=dd-item><a href=/farmer/api-overview/resources/nsg/>Network Security Group</a></li><li data-nav-id=/farmer/api-overview/resources/operations-management/ title="Operations Management" class=dd-item><a href=/farmer/api-overview/resources/operations-management/>Operations Management</a></li><li data-nav-id=/farmer/api-overview/resources/postgresql/ title=PostgreSQL class=dd-item><a href=/farmer/api-overview/resources/postgresql/>PostgreSQL</a></li><li data-nav-id=/farmer/api-overview/resources/redis/ title="Redis Cache" class=dd-item><a href=/farmer/api-overview/resources/redis/>Redis Cache</a></li><li data-nav-id=/farmer/api-overview/resources/resource-group/ title="Resource Group" class=dd-item><a href=/farmer/api-overview/resources/resource-group/>Resource Group</a></li><li data-nav-id=/farmer/api-overview/resources/signalr/ title=SignalR class=dd-item><a href=/farmer/api-overview/resources/signalr/>SignalR</a></li><li data-nav-id=/farmer/api-overview/resources/search/ title=Search class=dd-item><a href=/farmer/api-overview/resources/search/>Search</a></li><li data-nav-id=/farmer/api-overview/resources/service-bus/ title="Service Bus" class=dd-item><a href=/farmer/api-overview/resources/service-bus/>Service Bus</a></li><li data-nav-id=/farmer/api-overview/resources/sql/ title="SQL Azure" class=dd-item><a href=/farmer/api-overview/resources/sql/>SQL Azure</a></li><li data-nav-id=/farmer/api-overview/resources/static-web-app/ title="Static Web Apps" class=dd-item><a href=/farmer/api-overview/resources/static-web-app/>Static Web Apps</a></li><li data-nav-id=/farmer/api-overview/resources/storage-account/ title="Storage Account" class=dd-item><a href=/farmer/api-overview/resources/storage-account/>Storage Account</a></li><li data-nav-id=/farmer/api-overview/resources/traffic-manager/ title="Traffic Manager" class=dd-item><a href=/farmer/api-overview/resources/traffic-manager/>Traffic Manager</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-machine/ title="Virtual Machine" class=dd-item><a href=/farmer/api-overview/resources/virtual-machine/>Virtual Machine</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-hub/ title="Virtual Hub" class=dd-item><a href=/farmer/api-overview/resources/virtual-hub/>Virtual Hub</a></li><li data-nav-id=/farmer/api-overview/resources/vnet/ title="Virtual Network" class=dd-item><a href=/farmer/api-overview/resources/vnet/>Virtual Network</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-wan/ title="Virtual WAN" class=dd-item><a href=/farmer/api-overview/resources/virtual-wan/>Virtual WAN</a></li><li data-nav-id=/farmer/api-overview/resources/vnet-gateway/ title="Virtual Network Gateway" class=dd-item><a href=/farmer/api-overview/resources/vnet-gateway/>Virtual Network Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/vm-scale-set/ title="Virtual Machine Scale Set" class=dd-item><a href=/farmer/api-overview/resources/vm-scale-set/>Virtual Machine Scale Set</a></li><li data-nav-id=/farmer/api-overview/resources/disk/ title=Disk class=dd-item><a href=/farmer/api-overview/resources/disk/>Disk</a></li><li data-nav-id=/farmer/api-overview/resources/web-app/ title="Web App" class=dd-item><a href=/farmer/api-overview/resources/web-app/>Web App</a></li><li data-nav-id=/farmer/api-overview/resources/autoscale-settings/ title="Autoscale Settings" class=dd-item><a href=/farmer/api-overview/resources/autoscale-settings/>Autoscale Settings</a></li></ul></li></ul></li><li data-nav-id=/farmer/arm-vs-farmer/ title="Farmer and ARM" class=dd-item><a href=/farmer/arm-vs-farmer/>Farmer and ARM</a></li><li data-nav-id=/farmer/deployment-guidance/ title="Deployment Guidance" class=dd-item><a href=/farmer/deployment-guidance/>Deployment Guidance</a></li><li data-nav-id=/farmer/support/ title="Commercial Support" class=dd-item><a href=/farmer/support/>Commercial Support</a></li><li data-nav-id=/farmer/testimonials/ title=Testimonials class=dd-item><a href=/farmer/testimonials/>Testimonials</a></li><li data-nav-id=/farmer/links/ title=Links class=dd-item><a href=/farmer/links/>Links</a></li><li data-nav-id=/farmer/contributing/ title=Contributing class=dd-item><a href=/farmer/contributing/>Contributing</a><ul><li data-nav-id=/farmer/contributing/arm-basics/ title="ARM Basics" class=dd-item><a href=/farmer/contributing/arm-basics/>ARM Basics</a></li><li data-nav-id=/farmer/contributing/outputs-and-expressions/ title="Outputs and ARM Expressions" class=dd-item><a href=/farmer/contributing/outputs-and-expressions/>Outputs and ARM Expressions</a></li><li data-nav-id=/farmer/contributing/create-pull-requests/ title="Creating Pull Requests" class=dd-item><a href=/farmer/contributing/create-pull-requests/>Creating Pull Requests</a></li><li data-nav-id=/farmer/contributing/adding-resources/ title="Supporting a new ARM Resource" class=dd-item><a href=/farmer/contributing/adding-resources/>Supporting a new ARM Resource</a><ul><li data-nav-id=/farmer/contributing/adding-resources/1-the-farmer-pipline/ title="1. The Farmer Pipeline" class=dd-item><a href=/farmer/contributing/adding-resources/1-the-farmer-pipline/>1. The Farmer Pipeline</a></li><li data-nav-id=/farmer/contributing/adding-resources/2-iarm-resource/ title="2. The IArmResource" class=dd-item><a href=/farmer/contributing/adding-resources/2-iarm-resource/>2. The IArmResource</a></li><li data-nav-id=/farmer/contributing/adding-resources/3-ibuilder/ title="3. The IBuilder interface" class=dd-item><a href=/farmer/contributing/adding-resources/3-ibuilder/>3. The IBuilder interface</a></li><li data-nav-id=/farmer/contributing/adding-resources/4-creating-builder-syntax/ title="4. Providing Builder syntax" class=dd-item><a href=/farmer/contributing/adding-resources/4-creating-builder-syntax/>4. Providing Builder syntax</a></li><li data-nav-id=/farmer/contributing/adding-resources/5-unit-testing/ title="5. Unit Testing" class=dd-item><a href=/farmer/contributing/adding-resources/5-unit-testing/>5. Unit Testing</a></li></ul></li></ul></li><li data-nav-id=/farmer/faq/ title=FAQs class=dd-item><a href=/farmer/faq/>FAQs</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/compositionalit/farmer><i class="fab fa-fw fa-github"></i>GitHub repo</a></li><li><a class=padding href=https://www.nuget.org/packages/Farmer/><i class="fab fa-fw fa-microsoft"></i>Nuget</a></li><li><a class=padding href=https://compositional-it.com><img src=/farmer/images/cit.png></img> Compositional IT</a></li></ul></section><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/CompositionalIT/farmer/tree/master/docs/content/tutorials/azure-security-best-practices.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/farmer/>Farmer</a> > <a href=/farmer/tutorials/>Tutorials</a> > Azure Security Best Practices</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#azure-security-best-practices>Azure Security Best Practices</a><ul><li><a href=#owasp-top-10-applied-to-azure-infrastructure>OWASP Top 10 Applied to Azure Infrastructure</a></li><li><a href=#zero-trust-security-model>Zero Trust Security Model</a></li><li><a href=#privileged-identity-management-pim>Privileged Identity Management (PIM)</a></li><li><a href=#conditional-access-policies>Conditional Access Policies</a></li><li><a href=#azure-active-directory-b2c-security>Azure Active Directory B2C Security</a></li><li><a href=#key-vault-secrets-management>Key Vault Secrets Management</a></li><li><a href=#sql-database-security>SQL Database Security</a></li><li><a href=#storage-account-security>Storage Account Security</a></li><li><a href=#private-endpoints-for-data-security>Private Endpoints for Data Security</a></li><li><a href=#azure-bastion-for-secure-vm-access>Azure Bastion for Secure VM Access</a></li><li><a href=#ddos-protection>DDoS Protection</a></li><li><a href=#web-application-firewall-waf>Web Application Firewall (WAF)</a></li><li><a href=#network-security-groups-nsg>Network Security Groups (NSG)</a></li><li><a href=#microsoft-defender-for-cloud>Microsoft Defender for Cloud</a></li><li><a href=#monitoring-and-threat-detection>Monitoring and Threat Detection</a></li><li><a href=#compliance-frameworks>Compliance Frameworks</a></li><li><a href=#security-best-practices-summary>Security Best Practices Summary</a></li><li><a href=#additional-security-resources>Additional Security Resources</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Azure Security Best Practices</h1><h2 id=azure-security-best-practices>Azure Security Best Practices</h2><p>This guide covers security best practices for Azure infrastructure deployed with Farmer, based on the Microsoft Security Best Practices and the OWASP Top 10.</p><h3 id=owasp-top-10-applied-to-azure-infrastructure>OWASP Top 10 Applied to Azure Infrastructure</h3><p>The OWASP Top 10 (<a href=https://owasp.org/www-project-top-ten/>https://owasp.org/www-project-top-ten/</a>) defines critical web application security risks. Here&rsquo;s how they map to Azure infrastructure and Farmer protections:</p><table><thead><tr><th>OWASP Risk</th><th>Azure Context</th><th>Farmer Protection</th></tr></thead><tbody><tr><td><strong>A01: Broken Access Control</strong></td><td>Overly permissive RBAC, public storage</td><td>Role-based access control, private storage defaults</td></tr><tr><td><strong>A02: Cryptographic Failures</strong></td><td>Unencrypted SQL, Storage, Cosmos DB</td><td>Encryption enabled by default, HTTPS enforced</td></tr><tr><td><strong>A03: Injection</strong></td><td>SQL injection, command injection</td><td>Parameterized queries, Managed Identity for DB auth</td></tr><tr><td><strong>A05: Security Misconfiguration</strong></td><td>Public storage, weak NSG rules</td><td>Secure defaults, deny-by-default NSG rules</td></tr><tr><td><strong>A07: Broken Authentication</strong></td><td>Weak passwords, no MFA</td><td>Azure AD B2C with strong password policies</td></tr><tr><td><strong>A08: Integrity Failures</strong></td><td>Compromised container images</td><td>Container Registry scanning, signed deployments</td></tr><tr><td><strong>A09: Logging Failures</strong></td><td>No Application Insights, missing logs</td><td>Application Insights integration, diagnostic settings</td></tr></tbody></table><p><strong>Troy Hunt&rsquo;s Guidance on Authentication:</strong> &ldquo;Passwords are fundamentally broken. Validate new passwords against Pwned Passwords API containing 600M+ breached passwords from real-world attacks.&rdquo;</p><p>Integrate Have I Been Pwned (<a href=https://haveibeenpwned.com/>https://haveibeenpwned.com/</a>) into Azure AD B2C custom policies for password validation. Troy Hunt, Microsoft Regional Director and creator of Have I Been Pwned, maintains the definitive database of compromised credentials used by Microsoft and major tech companies.</p><p>Reference: OWASP Top 10 2021 (<a href=https://owasp.org/www-project-top-ten/>https://owasp.org/www-project-top-ten/</a>)</p><h3 id=zero-trust-security-model>Zero Trust Security Model</h3><p>Azure security is built on the Zero Trust model, which assumes breach and verifies each request as if it originated from an untrusted network. The Zero Trust model is based on three principles from Microsoft Security:</p><p><strong>Verify Explicitly</strong>: Always authenticate and authorize based on all available data points including user identity, location, device health, service or workload, data classification, and anomalies.</p><p><strong>Use Least Privilege Access</strong>: Limit user access with Just-In-Time and Just-Enough-Access (JIT/JEA), risk-based adaptive policies, and data protection.</p><p><strong>Assume Breach</strong>: Minimize blast radius and segment access. Verify end-to-end encryption. Use analytics to get visibility, drive threat detection, and improve defenses.</p><p>Reference: Azure Security Best Practices - Zero Trust (<a href=https://learn.microsoft.com/en-us/security/zero-trust/>https://learn.microsoft.com/en-us/security/zero-trust/</a>)</p><h3 id=privileged-identity-management-pim>Privileged Identity Management (PIM)</h3><p>Privileged Identity Management provides time-based and approval-based role activation to mitigate the risks of excessive, unnecessary, or misused access permissions. PIM is essential for implementing Just-In-Time access and meeting SOX/SOC 2 compliance requirements.</p><p><strong>Key PIM Capabilities:</strong></p><ol><li><strong>Time-based role activation</strong>: Users activate privileged roles for a limited time (1-8 hours)</li><li><strong>Approval workflows</strong>: Require approval before activating sensitive roles</li><li><strong>Multi-factor authentication</strong>: Enforce MFA for role activation</li><li><strong>Access reviews</strong>: Regular audits of who has privileged access</li><li><strong>Audit history</strong>: Complete trail of all role activations</li></ol><p><strong>PIM Configuration (Portal-based):</strong></p><p>While Farmer doesn&rsquo;t directly support PIM configuration, you should configure PIM for the following Azure roles:</p><ul><li><strong>Owner</strong>: Full access to all resources</li><li><strong>Contributor</strong>: Can create and manage resources but can&rsquo;t grant access</li><li><strong>User Access Administrator</strong>: Can manage user access to Azure resources</li><li><strong>Custom roles with sensitive permissions</strong>: Such as Key Vault administrator</li></ul><p><strong>PIM Best Practices:</strong></p><ol><li>Require approval for highly privileged roles (Owner, User Access Administrator)</li><li>Set maximum activation duration to 4 hours for production environments</li><li>Enable MFA for all privileged role activations</li><li>Configure access reviews every 90 days</li><li>Require justification for all role activations</li><li>Enable alerts for suspicious activation patterns</li></ol><p>Reference: Microsoft Entra Privileged Identity Management (<a href=https://learn.microsoft.com/en-us/entra/id-governance/privileged-identity-management/>https://learn.microsoft.com/en-us/entra/id-governance/privileged-identity-management/</a>)</p><h3 id=conditional-access-policies>Conditional Access Policies</h3><p>Conditional Access is the policy engine that enforces Zero Trust by evaluating signals from identity, device, location, and risk before allowing access. This is critical for preventing credential-based attacks.</p><p><strong>Common Conditional Access Policies:</strong></p><ol><li><strong>Require MFA for all users</strong>: Block access unless MFA is completed</li><li><strong>Block legacy authentication</strong>: Prevent attacks using old protocols (SMTP, POP3)</li><li><strong>Require compliant devices</strong>: Only allow access from managed devices</li><li><strong>Block access from untrusted locations</strong>: Restrict access based on geographic location</li><li><strong>Require password change for high-risk users</strong>: Force password reset when risk is detected</li></ol><p><strong>Conditional Access Configuration (Portal-based):</strong></p><p>Farmer doesn&rsquo;t directly support Conditional Access configuration. Configure these policies in the Azure Portal under Microsoft Entra ID → Security → Conditional Access:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>Policy: Require MFA for All Users
- Users: All users
- Cloud apps: All cloud apps
- Conditions: Any location
- Access controls: Grant access, Require MFA

Policy: Block Legacy Authentication
- Users: All users
- Cloud apps: All cloud apps
- Conditions: Client apps (Exchange ActiveSync, Other clients)
- Access controls: Block access

Policy: Require Compliant Device
- Users: All users
- Cloud apps: Office 365, Azure Portal
- Conditions: Any location
- Access controls: Grant access, Require device to be marked as compliant
</code></pre></div><p><strong>Conditional Access Best Practices:</strong></p><ol><li>Start with report-only mode to test policy impact</li><li>Exclude break-glass accounts from all policies</li><li>Implement policies in stages (pilot → production)</li><li>Monitor sign-in logs for blocked users</li><li>Combine multiple conditions for defense-in-depth</li></ol><p>Reference: Microsoft Entra Conditional Access (<a href=https://learn.microsoft.com/en-us/entra/identity/conditional-access/>https://learn.microsoft.com/en-us/entra/identity/conditional-access/</a>)</p><h3 id=azure-active-directory-b2c-security>Azure Active Directory B2C Security</h3><p>Implement strong authentication with Azure AD B2C.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer
<span style=color:#66d9ef>open</span> Farmer.Builders

<span style=color:#66d9ef>let</span> b2cTenant <span style=color:#f92672>=</span> b2cTenant <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;myb2ctenant&#34;</span>
    sku B2c.Sku.PremiumP1
    
    <span style=color:#75715e>// Configure in Azure Portal:
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 1. Enable MFA for all users
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 2. Password complexity: minimum 12 characters
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 3. Integrate with Have I Been Pwned API via custom policy
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 4. Implement account lockout after 5 failed attempts
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 5. Use conditional access policies
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><p><strong>Have I Been Pwned Integration:</strong></p><p>Azure AD B2C supports custom policies that can call the Pwned Passwords API to reject compromised passwords:</p><ol><li>Create REST API to call Have I Been Pwned k-anonymity API</li><li>Configure custom policy with validation technical profile</li><li>Reject passwords found in breach database</li></ol><p>Reference: Integrate Have I Been Pwned with Azure AD B2C (<a href=https://docs.microsoft.com/en-us/azure/active-directory-b2c/custom-policy-password-complexity-haveibeenpwned>https://docs.microsoft.com/en-us/azure/active-directory-b2c/custom-policy-password-complexity-haveibeenpwned</a>)</p><h3 id=key-vault-secrets-management>Key Vault Secrets Management</h3><p>Never hardcode secrets. Always use Azure Key Vault.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer.KeyVault

<span style=color:#66d9ef>let</span> vault <span style=color:#f92672>=</span> keyVault <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;mysecurevault&#34;</span>
    sku Sku.Standard
    
    <span style=color:#75715e>// Enable soft delete and purge protection
</span><span style=color:#75715e></span>    enable_soft_delete_with_purge_protection
    
    <span style=color:#75715e>// Restrict network access
</span><span style=color:#75715e></span>    add_ip_rule <span style=color:#e6db74>&#34;203.0.113.0&#34;</span>
    add_ip_rule <span style=color:#e6db74>&#34;203.0.113.1&#34;</span>
    restrict_to_ip_rules
    
    <span style=color:#75715e>// Add secrets
</span><span style=color:#75715e></span>    add_secret <span style=color:#e6db74>&#34;database-password&#34;</span>
    add_secret <span style=color:#e6db74>&#34;api-key&#34;</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Grant web app access using Managed Identity
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> app <span style=color:#f92672>=</span> webApp <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;secure-webapp&#34;</span>
    system_identity
    
    <span style=color:#75715e>// Reference Key Vault secret
</span><span style=color:#75715e></span>    secret_setting <span style=color:#e6db74>&#34;DbPassword&#34;</span> vault<span style=color:#f92672>.</span>ResourceId <span style=color:#e6db74>&#34;database-password&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>Key Vault Security Best Practices:</strong></p><ol><li>Enable soft delete (14-day recovery window)</li><li>Enable purge protection (prevents permanent deletion)</li><li>Use Managed Identity instead of service principals</li><li>Implement network restrictions (private endpoints or firewall)</li><li>Enable audit logging to Log Analytics</li><li>Rotate secrets regularly (90 days recommended)</li><li>Use separate Key Vaults per environment (dev, staging, prod)</li></ol><p>Reference: Azure Key Vault Security Overview (<a href=https://docs.microsoft.com/en-us/azure/key-vault/general/security-features>https://docs.microsoft.com/en-us/azure/key-vault/general/security-features</a>)</p><h3 id=sql-database-security>SQL Database Security</h3><p>Protect SQL databases with multiple layers of security.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Sql

<span style=color:#66d9ef>let</span> database <span style=color:#f92672>=</span> sqlServer <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;secureserver&#34;</span>
    admin_username <span style=color:#e6db74>&#34;sqladmin&#34;</span>
    
    add_databases <span style=color:#f92672>[</span>
        sqlDb <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;productiondb&#34;</span>
            sku DtuSku.S1
            use_encryption
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
    
    <span style=color:#75715e>// Enable Azure services access
</span><span style=color:#75715e></span>    enable_azure_firewall
    add_firewall_rule <span style=color:#e6db74>&#34;AllowAzureServices&#34;</span> <span style=color:#e6db74>&#34;0.0.0.0&#34;</span> <span style=color:#e6db74>&#34;0.0.0.0&#34;</span>
    
    <span style=color:#75715e>// Only allow specific IPs
</span><span style=color:#75715e></span>    add_firewall_rule <span style=color:#e6db74>&#34;Office&#34;</span> <span style=color:#e6db74>&#34;203.0.113.10&#34;</span> <span style=color:#e6db74>&#34;203.0.113.20&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>SQL Security Checklist:</strong></p><ol><li>Enable Azure Defender for SQL (Advanced Threat Protection)</li><li>Enable Transparent Data Encryption (TDE) - enabled by default</li><li>Use Azure AD authentication instead of SQL authentication</li><li>Enable auditing to Log Analytics or Storage</li><li>Restrict network access via firewall rules or private endpoints</li><li>Implement row-level security (RLS) for multi-tenant databases</li><li>Use Always Encrypted for sensitive columns</li><li>Enable dynamic data masking for PII fields</li></ol><p><strong>OWASP SQL Injection Prevention:</strong></p><p>Always use parameterized queries in your application code:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// ❌ BAD: String interpolation in SQL queries (vulnerable to injection)
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> badQuery userEmail <span style=color:#f92672>=</span> 
    <span style=color:#f92672>$</span><span style=color:#e6db74>&#34;SELECT * FROM Users WHERE Email = &#39;{userEmail}&#39;&#34;</span>

<span style=color:#75715e>// ✅ GOOD: Use parameterized queries in your application code
</span><span style=color:#75715e>// This is handled by your data access library (Dapper, Entity Framework, etc.)
</span><span style=color:#75715e>// Example with type-safe F# query builders or stored procedures
</span></code></pre></div><p>Reference: Azure SQL Security Best Practices (<a href=https://docs.microsoft.com/en-us/azure/azure-sql/database/security-best-practice>https://docs.microsoft.com/en-us/azure/azure-sql/database/security-best-practice</a>)</p><h3 id=storage-account-security>Storage Account Security</h3><p>Secure blob storage against unauthorized access.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>let</span> storage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;securestorage&#34;</span>
    sku Storage.Sku.Standard_LRS
    
    <span style=color:#75715e>// Require HTTPS
</span><span style=color:#75715e></span>    enable_data_lake_storage
    min_tls_version Tls12
    
    <span style=color:#75715e>// Disable public access
</span><span style=color:#75715e></span>    disable_public_network_access
    
    <span style=color:#75715e>// Enable soft delete
</span><span style=color:#75715e></span>    enable_blob_soft_delete 30<span style=color:#f92672>&lt;</span>Days<span style=color:#f92672>&gt;</span>
    
    <span style=color:#75715e>// Lifecycle management
</span><span style=color:#75715e></span>    add_lifecycle_rule <span style=color:#e6db74>&#34;archive-old-data&#34;</span> <span style=color:#f92672>[</span>
        Storage.CoolAfter 30<span style=color:#f92672>&lt;</span>Days<span style=color:#f92672>&gt;</span>
        Storage.ArchiveAfter 90<span style=color:#f92672>&lt;</span>Days<span style=color:#f92672>&gt;</span>
        Storage.DeleteAfter 365<span style=color:#f92672>&lt;</span>Days<span style=color:#f92672>&gt;</span>
    <span style=color:#f92672>]</span> Storage.NoRuleFilters
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>Storage Security Best Practices:</strong></p><ol><li>Block public blob access unless absolutely necessary</li><li>Use Shared Access Signatures (SAS) with short expiration times</li><li>Enable soft delete (7-30 days retention)</li><li>Require HTTPS (disable HTTP completely)</li><li>Enable versioning for critical blobs</li><li>Use Azure AD authentication instead of shared keys</li><li>Enable Storage Analytics logging</li><li>Implement network restrictions (firewall rules or private endpoints)</li><li>Enable Azure Defender for Storage</li></ol><p>Reference: Azure Storage Security Guide (<a href=https://docs.microsoft.com/en-us/azure/storage/blobs/security-recommendations>https://docs.microsoft.com/en-us/azure/storage/blobs/security-recommendations</a>)</p><h3 id=private-endpoints-for-data-security>Private Endpoints for Data Security</h3><p>Private Endpoints provide secure connectivity to Azure PaaS services over a private IP address from your VNet, eliminating exposure to the public internet. This is critical for Zero Trust architecture and compliance requirements (HIPAA, PCI DSS).</p><p><strong>Private Endpoint Benefits:</strong></p><ol><li><strong>Eliminates public internet exposure</strong>: Services are accessed via private IP addresses</li><li><strong>Protection against data exfiltration</strong>: Traffic stays within Azure backbone</li><li><strong>Simplified network security</strong>: No need for service-specific firewall rules</li><li><strong>Compliance enablement</strong>: Required for many regulatory frameworks</li></ol><p><strong>Private Endpoint Implementation:</strong></p><p>Farmer currently has limited support for private endpoints. Configure via Azure Portal or ARM templates:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// Example: Storage account with network restrictions
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> storage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;securestorage&#34;</span>
    sku Storage.Sku.Standard_LRS
    
    <span style=color:#75715e>// Disable public network access - force private endpoint usage
</span><span style=color:#75715e></span>    disable_public_network_access
    
    <span style=color:#75715e>// Configure private endpoint in Azure Portal:
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 1. Create private endpoint in your VNet
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 2. Select target sub-resource (blob, file, table, queue)
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 3. Configure private DNS integration
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 4. Approve private endpoint connection
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><p><strong>Services Supporting Private Endpoints:</strong></p><ul><li><strong>Storage Accounts</strong>: Blob, File, Table, Queue, Data Lake Gen2</li><li><strong>SQL Database</strong>: Database server, SQL Managed Instance</li><li><strong>Cosmos DB</strong>: SQL API, MongoDB API, Cassandra API</li><li><strong>Key Vault</strong>: Secure vault access from VNet only</li><li><strong>Web Apps</strong>: Inbound traffic to web app</li><li><strong>Container Registry</strong>: Secure image pull operations</li><li><strong>Azure Cache for Redis</strong>: Database access</li></ul><p><strong>Private Endpoint Best Practices:</strong></p><ol><li>Always use private endpoints for production PaaS services handling sensitive data</li><li>Configure Private DNS zones for automatic name resolution</li><li>Use Network Security Groups to control traffic to private endpoints</li><li>Disable public network access after private endpoint is validated</li><li>Document private endpoint connections for audit compliance</li><li>Use Azure Private Link service for custom applications</li></ol><p>Reference: Azure Private Endpoint Documentation (<a href=https://learn.microsoft.com/en-us/azure/private-link/private-endpoint-overview>https://learn.microsoft.com/en-us/azure/private-link/private-endpoint-overview</a>)</p><h3 id=azure-bastion-for-secure-vm-access>Azure Bastion for Secure VM Access</h3><p>Azure Bastion provides secure RDP and SSH connectivity to Azure VMs without exposing RDP/SSH ports to the public internet. This eliminates a major attack vector for brute-force attacks and is essential for production environments.</p><p><strong>Azure Bastion Architecture:</strong></p><p>Azure Bastion is a fully managed PaaS service that acts as a jump server (bastion host) deployed inside your VNet. It provides secure connectivity over TLS from the Azure Portal directly to your VMs without needing public IP addresses on VMs.</p><p><strong>Security Benefits:</strong></p><ol><li><strong>No public IP addresses required on VMs</strong>: Eliminates exposure to port scanning</li><li><strong>No NSG rules for RDP/SSH</strong>: Reduces attack surface</li><li><strong>Hardened by Microsoft</strong>: Platform automatically patched and updated</li><li><strong>MFA integration</strong>: Works with Azure AD authentication</li><li><strong>Audit logs</strong>: All sessions logged for compliance</li></ol><p><strong>Azure Bastion Deployment:</strong></p><p>Farmer currently doesn&rsquo;t support Azure Bastion builder. Deploy via Azure Portal or Azure CLI:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// Example: VNet with dedicated Bastion subnet
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> vnet <span style=color:#f92672>=</span> vnet <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;production-vnet&#34;</span>
    add_address_spaces <span style=color:#f92672>[</span>
        <span style=color:#e6db74>&#34;10.0.0.0/16&#34;</span>
    <span style=color:#f92672>]</span>
    add_subnets <span style=color:#f92672>[</span>
        subnet <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;AzureBastionSubnet&#34;</span>  <span style=color:#75715e>// Required name
</span><span style=color:#75715e></span>            prefix <span style=color:#e6db74>&#34;10.0.0.0/26&#34;</span>  <span style=color:#75715e>// Minimum /26 CIDR
</span><span style=color:#75715e></span>            <span style=color:#75715e>// Reserve for Azure Bastion only
</span><span style=color:#75715e></span>        <span style=color:#f92672>}</span>
        subnet <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;web-tier&#34;</span>
            prefix <span style=color:#e6db74>&#34;10.0.1.0/24&#34;</span>
        <span style=color:#f92672>}</span>
        subnet <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;data-tier&#34;</span>
            prefix <span style=color:#e6db74>&#34;10.0.2.0/24&#34;</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Deploy Azure Bastion via Azure CLI:
</span><span style=color:#75715e>// az network bastion create \
</span><span style=color:#75715e>//   --name MyBastion \
</span><span style=color:#75715e>//   --resource-group production-rg \
</span><span style=color:#75715e>//   --vnet-name production-vnet \
</span><span style=color:#75715e>//   --location eastus \
</span><span style=color:#75715e>//   --sku Standard
</span></code></pre></div><p><strong>Azure Bastion SKUs:</strong></p><table><thead><tr><th>Feature</th><th>Basic SKU</th><th>Standard SKU</th></tr></thead><tbody><tr><td>RDP/SSH via Azure Portal</td><td>✓</td><td>✓</td></tr><tr><td>Native RDP/SSH client support</td><td>✗</td><td>✓</td></tr><tr><td>File transfer</td><td>✗</td><td>✓</td></tr><tr><td>IP-based connection</td><td>✗</td><td>✓</td></tr><tr><td>Host scaling</td><td>✗</td><td>✓</td></tr><tr><td>Shareable links</td><td>✗</td><td>✓</td></tr></tbody></table><p><strong>Azure Bastion Best Practices:</strong></p><ol><li>Use Standard SKU for production workloads requiring native client support</li><li>Create dedicated <code>/26</code> subnet named <code>AzureBastionSubnet</code></li><li>Enable diagnostic logging to Log Analytics workspace</li><li>Use Azure RBAC to control who can connect via Bastion</li><li>Consider hub-and-spoke topology with centralized Bastion</li><li>Document Bastion access procedures in runbooks</li></ol><p>Reference: Azure Bastion Documentation (<a href=https://learn.microsoft.com/en-us/azure/bastion/>https://learn.microsoft.com/en-us/azure/bastion/</a>)</p><h3 id=ddos-protection>DDoS Protection</h3><p>Azure DDoS Protection defends against Distributed Denial of Service attacks that can make your applications unavailable. DDoS attacks can cost thousands of dollars per hour in lost revenue and resource scaling charges.</p><p><strong>DDoS Attack Types:</strong></p><ol><li><strong>Volumetric attacks</strong>: Saturate network bandwidth (DNS amplification, UDP floods)</li><li><strong>Protocol attacks</strong>: Exploit weaknesses in Layer 3/4 protocols (SYN floods, fragmented packets)</li><li><strong>Application layer attacks</strong>: Target web applications (HTTP floods, slowloris)</li></ol><p><strong>Azure DDoS Protection Tiers:</strong></p><p><strong>Basic (Free)</strong>:</p><ul><li>Automatic protection for all Azure resources</li><li>Always-on traffic monitoring</li><li>Real-time attack mitigation</li><li>No cost</li></ul><p><strong>Standard (Paid)</strong>:</p><ul><li>Tuned protection policies specific to your resources</li><li>DDoS rapid response team support during active attacks</li><li>Cost protection (service credits during attacks)</li><li>Attack analytics and metrics</li><li>Attack mitigation reports</li></ul><p><strong>DDoS Protection Implementation:</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// DDoS Protection Standard is configured at the subscription level
</span><span style=color:#75715e>// Deploy via Azure CLI or Portal
</span><span style=color:#75715e></span>
<span style=color:#75715e>// Example: VNet ready for DDoS Protection
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> vnet <span style=color:#f92672>=</span> vnet <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;protected-vnet&#34;</span>
    add_address_spaces <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;10.0.0.0/16&#34;</span> <span style=color:#f92672>]</span>
    add_subnets <span style=color:#f92672>[</span>
        subnet <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;web-tier&#34;</span>
            prefix <span style=color:#e6db74>&#34;10.0.1.0/24&#34;</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Create DDoS Protection Plan via CLI:
</span><span style=color:#75715e>// az network ddos-protection create \
</span><span style=color:#75715e>//   --resource-group production-rg \
</span><span style=color:#75715e>//   --name production-ddos-plan \
</span><span style=color:#75715e>//   --location eastus
</span><span style=color:#75715e>//
</span><span style=color:#75715e>// Then associate it with VNet:
</span><span style=color:#75715e>// az network vnet update \
</span><span style=color:#75715e>//   --resource-group production-rg \
</span><span style=color:#75715e>//   --name protected-vnet \
</span><span style=color:#75715e>//   --ddos-protection-plan production-ddos-plan \
</span><span style=color:#75715e>//   --ddos-protection true
</span></code></pre></div><p><strong>DDoS Protection Standard Costs:</strong></p><ul><li><strong>Fixed monthly fee</strong>: ~$2,944/month for first 100 public IPs</li><li><strong>Additional IPs</strong>: ~$30/IP/month beyond 100</li><li><strong>Cost protection</strong>: Azure credits for scaling costs during attacks</li></ul><p><strong>DDoS Protection Best Practices:</strong></p><ol><li>Enable DDoS Protection Standard for mission-critical applications</li><li>Configure DDoS alerts in Azure Monitor (attack detection, mitigation)</li><li>Test DDoS protection with simulation partners (BreakingPoint Cloud)</li><li>Combine with Azure Firewall and WAF for layered protection</li><li>Enable diagnostic logs for forensic analysis</li><li>Document DDoS response procedures</li></ol><p><strong>DDoS Attack Response:</strong></p><ol><li>Azure automatically detects and mitigates attacks (Basic and Standard)</li><li>Standard tier: DDoS Rapid Response team available during active attacks</li><li>Post-attack: Review mitigation reports and attack analytics</li><li>Adjust protection policies based on attack patterns</li></ol><p>Reference: Azure DDoS Protection (<a href=https://learn.microsoft.com/en-us/azure/ddos-protection/>https://learn.microsoft.com/en-us/azure/ddos-protection/</a>)</p><h3 id=web-application-firewall-waf>Web Application Firewall (WAF)</h3><p>Protect web applications from OWASP Top 10 attacks using Azure WAF.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer.ApplicationGateway

<span style=color:#66d9ef>let</span> appGateway <span style=color:#f92672>=</span> appGateway <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;secure-gateway&#34;</span>
    
    <span style=color:#75715e>// Enable WAF with OWASP rules
</span><span style=color:#75715e></span>    sku_capacity 2
    sku ApplicationGatewaySku.WAF_v2
    
    <span style=color:#75715e>// Configure in Azure Portal:
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 1. Enable OWASP 3.2 rule set
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 2. Set to Prevention mode (not just Detection)
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 3. Enable bot protection
</span><span style=color:#75715e></span>    <span style=color:#75715e>// 4. Configure custom rules for rate limiting
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><p><strong>Azure WAF Protection Against OWASP Top 10:</strong></p><ul><li><strong>SQL Injection (A03)</strong>: OWASP rule 942xxx series</li><li><strong>Cross-Site Scripting (XSS)</strong>: OWASP rule 941xxx series</li><li><strong>Security Misconfiguration (A05)</strong>: Protocol enforcers</li><li><strong>Broken Authentication (A07)</strong>: Rate limiting, bot protection</li><li><strong>Server-Side Request Forgery (A10)</strong>: OWASP rule 944xxx series</li></ul><p>Reference: Azure WAF on Application Gateway (<a href=https://docs.microsoft.com/en-us/azure/web-application-firewall/ag/ag-overview>https://docs.microsoft.com/en-us/azure/web-application-firewall/ag/ag-overview</a>)</p><h3 id=network-security-groups-nsg>Network Security Groups (NSG)</h3><p>Implement defense-in-depth with NSG rules.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>let</span> webNsg <span style=color:#f92672>=</span> nsg <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;web-tier-nsg&#34;</span>
    
    add_rules <span style=color:#f92672>[</span>
        securityRule <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;AllowHTTPS&#34;</span>
            description <span style=color:#e6db74>&#34;Allow HTTPS from Internet&#34;</span>
            services <span style=color:#f92672>[</span> NetworkService <span style=color:#f92672>(</span><span style=color:#e6db74>&#34;https&#34;</span><span style=color:#f92672>,</span> 443<span style=color:#f92672>)</span> <span style=color:#f92672>]</span>
            add_source_tag TCP <span style=color:#e6db74>&#34;Internet&#34;</span>
            add_destination_any
            direction Inbound
        <span style=color:#f92672>}</span>
        securityRule <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;DenyAll&#34;</span>
            description <span style=color:#e6db74>&#34;Deny all other inbound&#34;</span>
            services <span style=color:#f92672>[</span> anyProtocol <span style=color:#f92672>]</span>
            add_source_any
            add_destination_any
            direction Inbound
            priority 4096
            access Deny
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Database tier - only allow from web tier
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> dbNsg <span style=color:#f92672>=</span> nsg <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;data-tier-nsg&#34;</span>
    
    add_rules <span style=color:#f92672>[</span>
        securityRule <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;AllowSQL&#34;</span>
            description <span style=color:#e6db74>&#34;Allow SQL from web tier only&#34;</span>
            services <span style=color:#f92672>[</span> NetworkService <span style=color:#f92672>(</span><span style=color:#e6db74>&#34;mssql&#34;</span><span style=color:#f92672>,</span> 1433<span style=color:#f92672>)</span> <span style=color:#f92672>]</span>
            add_source_address TCP <span style=color:#e6db74>&#34;10.0.1.0/24&#34;</span>  <span style=color:#75715e>// Web subnet
</span><span style=color:#75715e></span>            add_destination_address <span style=color:#e6db74>&#34;10.0.2.0/24&#34;</span>  <span style=color:#75715e>// DB subnet
</span><span style=color:#75715e></span>            direction Inbound
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>NSG Best Practices:</strong></p><ol><li>Default deny all inbound traffic</li><li>Explicitly allow only required ports and protocols</li><li>Use service tags instead of IP addresses when possible</li><li>Implement network segmentation (web, app, data tiers)</li><li>Enable NSG flow logs for security analysis</li><li>Use Application Security Groups for dynamic rule management</li><li>Regular audit of NSG rules (remove unused rules)</li></ol><p>Reference: Azure NSG Security Best Practices (<a href=https://docs.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview>https://docs.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview</a>)</p><h3 id=microsoft-defender-for-cloud>Microsoft Defender for Cloud</h3><p>Microsoft Defender for Cloud (formerly Azure Security Center) is a unified infrastructure security management system that provides advanced threat protection across hybrid cloud workloads. Defender for Cloud is essential for maintaining security posture and detecting threats in real-time.</p><p><strong>Core Capabilities:</strong></p><ol><li><strong>Cloud Security Posture Management (CSPM)</strong>: Continuous assessment of security configuration</li><li><strong>Cloud Workload Protection (CWP)</strong>: Threat detection and protection for specific workload types</li><li><strong>Regulatory Compliance Dashboard</strong>: Track compliance with frameworks (PCI DSS, HIPAA, SOC 2, ISO 27001)</li><li><strong>Secure Score</strong>: Quantified security posture measurement</li><li><strong>Security Recommendations</strong>: Actionable remediation guidance</li></ol><p><strong>Defender CSPM (Cloud Security Posture Management):</strong></p><p>Defender CSPM provides free and premium capabilities for security posture management:</p><p><strong>Free Tier (Foundational CSPM):</strong></p><ul><li>Secure score</li><li>Security recommendations</li><li>Azure security benchmark assessment</li><li>Basic regulatory compliance</li></ul><p><strong>Paid Tier (Defender CSPM Plan):</strong></p><ul><li>Attack path analysis (identifies exploitation routes)</li><li>Cloud security graph (contextual risk assessment)</li><li>Agentless scanning for VMs</li><li>Data-aware security posture</li><li>Governance and regulatory compliance dashboard</li><li>DevOps security (GitHub/Azure DevOps integration)</li></ul><p><strong>Enabling Defender CSPM:</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Enable Defender CSPM plan via Azure CLI</span>
az security pricing create <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --name CloudPosture <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --tier Standard

<span style=color:#75715e># Enable foundational CSPM (free)</span>
<span style=color:#75715e># Automatic when you access Defender for Cloud</span>
</code></pre></div><p><strong>Attack Path Analysis:</strong></p><p>Attack paths show how attackers could potentially exploit your environment by chaining vulnerabilities. Example attack path:</p><pre><code>Internet-exposed VM with vulnerabilities
  → Has managed identity
    → Identity has Contributor role
      → Can access sensitive storage account
        → Contains customer PII data
</code></pre><p><strong>Cloud Security Graph:</strong></p><p>The security graph analyzes relationships between resources to identify risks based on:</p><ul><li><strong>Exploitability</strong>: What can be compromised (CVEs, misconfigurations)</li><li><strong>Business impact</strong>: What sensitive data or critical systems are at risk</li><li><strong>Lateral movement potential</strong>: What other resources can be reached</li></ul><p><strong>Defender for Cloud Workload Protection Plans:</strong></p><table><thead><tr><th>Plan</th><th>Protects</th><th>Key Features</th><th>Typical Cost</th></tr></thead><tbody><tr><td>Defender for Servers</td><td>VMs, VMSS</td><td>Vulnerability assessment, JIT access, file integrity monitoring</td><td>~$15/server/month</td></tr><tr><td>Defender for App Service</td><td>Web apps, Function apps</td><td>Runtime threat protection, dependency scanning</td><td>~$15/plan/month</td></tr><tr><td>Defender for Storage</td><td>Blob, File, Data Lake</td><td>Malware scanning, anomaly detection, sensitive data discovery</td><td>~$10/storage account/month</td></tr><tr><td>Defender for SQL</td><td>SQL Database, SQL MI</td><td>Vulnerability assessment, threat detection, sensitive data discovery</td><td>~$15/server/month</td></tr><tr><td>Defender for Containers</td><td>AKS, ACR, Arc K8s</td><td>Image scanning, runtime protection, Kubernetes audit logs</td><td>~$7/vCore/month</td></tr><tr><td>Defender for Key Vault</td><td>Key Vault</td><td>Anomaly detection, suspicious operations</td><td>~$0.02/10K operations</td></tr><tr><td>Defender CSPM</td><td>All resources</td><td>Attack paths, security graph, compliance</td><td>~$5/resource/month</td></tr></tbody></table><p><strong>Microsoft Defender for Cloud Best Practices:</strong></p><ol><li><strong>Enable Defender CSPM for all subscriptions</strong>: Provides attack path analysis and security graph</li><li><strong>Enable workload-specific plans</strong>: Defender for Servers, Storage, SQL for production workloads</li><li><strong>Integrate with Azure Sentinel</strong>: Export alerts for advanced threat hunting</li><li><strong>Configure email notifications</strong>: Alert security team of high-severity findings</li><li><strong>Implement security governance</strong>: Assign owners and due dates to recommendations</li><li><strong>Track secure score trends</strong>: Monitor improvement over time</li><li><strong>Use Just-In-Time VM access</strong>: Reduce VM attack surface</li><li><strong>Enable adaptive application controls</strong>: Whitelist applications on VMs</li><li><strong>Review regulatory compliance dashboard</strong>: Ensure adherence to industry standards</li><li><strong>Automate remediation</strong>: Use Azure Policy and Logic Apps for automatic fixes</li></ol><p><strong>Secure Score Optimization:</strong></p><p>Secure score is calculated based on healthy resources / total resources. Focus on high-impact recommendations first:</p><p><strong>High-Impact Actions (10+ points each):</strong></p><ul><li>Enable MFA for all users</li><li>Enable Defender plans for workload types</li><li>Remove deprecated accounts</li><li>Restrict network access to storage accounts</li><li>Enable Azure Backup for VMs</li></ul><p><strong>Medium-Impact Actions (5-9 points):</strong></p><ul><li>Update outdated operating systems</li><li>Enable disk encryption</li><li>Configure NSG rules</li><li>Implement Just-In-Time VM access</li></ul><p><strong>Security Governance:</strong></p><p>Assign owners and due dates to security recommendations to track remediation progress:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Assign recommendation owner via Azure CLI</span>
az security task create <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --name <span style=color:#e6db74>&#34;Enable MFA for all users&#34;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --recommendation-id &lt;recommendation-id&gt; <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --assigned-to security-team@company.com <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --due-date 2025-03-01
</code></pre></div><p><strong>Integration with CI/CD:</strong></p><p>Defender for DevOps integrates with GitHub Actions and Azure DevOps:</p><ul><li>Infrastructure-as-code scanning (Terraform, ARM, Bicep)</li><li>Container image scanning in CI/CD pipelines</li><li>Secrets scanning in source code repositories</li><li>Code-to-cloud security contextualization</li></ul><p>Reference: Microsoft Defender for Cloud Documentation (<a href=https://learn.microsoft.com/en-us/azure/defender-for-cloud/>https://learn.microsoft.com/en-us/azure/defender-for-cloud/</a>)</p><h3 id=monitoring-and-threat-detection>Monitoring and Threat Detection</h3><p>Enable comprehensive security monitoring across your Azure environment.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>let</span> insights <span style=color:#f92672>=</span> appInsights <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;security-monitoring&#34;</span>
    retention_days 90  <span style=color:#75715e>// Compliance requirement
</span><span style=color:#75715e></span>    log_analytics_workspace_linking_mode Workspace
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Enable Microsoft Defender for Cloud
</span><span style=color:#75715e>// Configure in Azure Portal:
</span><span style=color:#75715e>// 1. Enable Defender CSPM and workload protection plans
</span><span style=color:#75715e>// 2. Configure Security Center alerts via email
</span><span style=color:#75715e>// 3. Enable Just-In-Time VM access
</span><span style=color:#75715e>// 4. Configure adaptive application controls
</span><span style=color:#75715e>// 5. Set up continuous export to Log Analytics
</span></code></pre></div><p><strong>Security Monitoring Stack:</strong></p><ol><li><strong>Azure Defender for Cloud</strong>: Threat protection across all services</li><li><strong>Azure Sentinel</strong>: SIEM for advanced threat detection</li><li><strong>Application Insights</strong>: Application-level security events</li><li><strong>Log Analytics</strong>: Centralized log aggregation</li><li><strong>Network Watcher</strong>: Network traffic analysis</li><li><strong>Azure Monitor</strong>: Alerts and automation</li></ol><p><strong>Critical Security Alerts to Configure:</strong></p><ul><li>Root account sign-in attempts</li><li>Multiple failed authentication attempts</li><li>Changes to NSG rules</li><li>Public IP address assignments</li><li>Key Vault access anomalies</li><li>SQL injection attempts (via WAF)</li><li>Unusual data egress patterns</li></ul><p>Reference: Azure Security Center Best Practices (<a href=https://docs.microsoft.com/en-us/azure/defender-for-cloud/security-center-introduction>https://docs.microsoft.com/en-us/azure/defender-for-cloud/security-center-introduction</a>)</p><h3 id=compliance-frameworks>Compliance Frameworks</h3><p>Map your Azure security controls to compliance requirements:</p><p><strong>OWASP Top 10 Compliance:</strong></p><ul><li>Addressed through WAF, secure coding practices, and Azure PaaS defaults</li></ul><p><strong>PCI DSS (Payment Card Industry):</strong></p><ul><li>Requirement 3.4: Encryption (Azure Storage, SQL TDE)</li><li>Requirement 8.2: Strong authentication (Azure AD MFA)</li><li>Requirement 10.1: Audit trails (Azure Monitor, Log Analytics)</li></ul><p><strong>HIPAA (Healthcare):</strong></p><ul><li>§164.312(a)(2)(iv): Encryption (Key Vault, TDE)</li><li>§164.308(a)(5)(ii)(C): Log-in monitoring (Azure AD logs)</li><li>§164.312(b): Audit controls (Azure Monitor)</li></ul><p><strong>GDPR (Data Privacy):</strong></p><ul><li>Article 32: Security of processing (encryption, access controls)</li><li>Article 33: Breach notification (Azure Security Center alerts)</li><li>Article 25: Data protection by design (Farmer secure defaults)</li></ul><p><strong>SOC 2 (Service Organization Control):</strong></p><ul><li>CC6.1: Logical access controls (Azure RBAC, Managed Identity)</li><li>CC7.2: System monitoring (Application Insights, Log Analytics)</li><li>CC6.6: Encryption (Key Vault, TDE, Storage encryption)</li></ul><p>Reference: Azure Compliance Offerings (<a href=https://docs.microsoft.com/en-us/azure/compliance/>https://docs.microsoft.com/en-us/azure/compliance/</a>)</p><h3 id=security-best-practices-summary>Security Best Practices Summary</h3><ol><li><p><strong>Identity and Access</strong>:</p><ul><li>Use Azure AD with MFA enabled for all users</li><li>Implement Managed Identity for Azure resources</li><li>Check passwords against Have I Been Pwned database</li><li>Follow principle of least privilege with RBAC</li></ul></li><li><p><strong>Data Protection</strong>:</p><ul><li>Enable encryption at rest (SQL TDE, Storage encryption)</li><li>Use Key Vault for secrets management</li><li>Enforce HTTPS/TLS 1.2+ for all data in transit</li><li>Implement row-level security for multi-tenant databases</li></ul></li><li><p><strong>Network Security</strong>:</p><ul><li>Use NSG rules with default deny</li><li>Implement network segmentation (VNet, subnets)</li><li>Deploy Azure WAF for OWASP protection</li><li>Use private endpoints for PaaS services</li></ul></li><li><p><strong>Application Security</strong>:</p><ul><li>Follow OWASP secure coding practices</li><li>Use parameterized queries (prevent SQL injection)</li><li>Validate and sanitize all inputs</li><li>Implement rate limiting and bot protection</li></ul></li><li><p><strong>Monitoring and Response</strong>:</p><ul><li>Enable Azure Defender for all resource types</li><li>Configure Security Center alerts</li><li>Implement centralized logging with Log Analytics</li><li>Regular security audits and penetration testing</li></ul></li><li><p><strong>Compliance</strong>:</p><ul><li>Document security controls for audit requirements</li><li>Regular compliance assessments</li><li>Maintain audit trail for all administrative actions</li><li>Implement data retention policies per framework</li></ul></li></ol><h3 id=additional-security-resources>Additional Security Resources</h3><p><strong>Microsoft Official:</strong></p><ul><li><a href=https://docs.microsoft.com/en-us/azure/security/fundamentals/best-practices-and-patterns>Azure Security Best Practices</a></li><li><a href=https://docs.microsoft.com/en-us/security/benchmark/azure/>Azure Security Benchmark</a></li><li><a href=https://www.microsoft.com/en-us/msrc>Microsoft Security Response Center</a></li></ul><p><strong>OWASP Resources:</strong></p><ul><li><a href=https://owasp.org/www-project-top-ten/>OWASP Top 10 2021</a></li><li><a href=https://owasp.org/www-community/Azure_Security>OWASP Azure Security</a></li><li><a href=https://cheatsheetseries.owasp.org/>OWASP Cheat Sheet Series</a></li></ul><p><strong>Troy Hunt Resources:</strong></p><ul><li><a href=https://haveibeenpwned.com/>Have I Been Pwned</a></li><li><a href=https://haveibeenpwned.com/API/v3#PwnedPasswords>Pwned Passwords API</a></li><li><a href=https://www.troyhunt.com/>Troy Hunt&rsquo;s Blog</a></li></ul><p><strong>Azure Security Community:</strong></p><ul><li><a href=https://techcommunity.microsoft.com/t5/azure-security/bg-p/AzureSecurityBlog>Azure Security & Compliance Blog</a></li><li><a href=https://twitter.com/AzureSecurity>Azure Security on Twitter</a></li><li><a href=https://www.youtube.com/c/MicrosoftSecurityCommunity>Azure Security YouTube Channel</a></li></ul><hr><p>This guide reflects Azure security best practices as of 2025. Always refer to the latest Microsoft documentation and your organization&rsquo;s compliance requirements when implementing security controls.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/farmer/tutorials/azure-cost-optimization/ title="Azure Cost Optimization Strategies"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/farmer/tutorials/custom-output/ title="Custom Output with ARM Expressions" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/farmer/js/clipboard.min.js?1764939373></script><script src=/farmer/js/perfect-scrollbar.min.js?1764939373></script><script src=/farmer/js/perfect-scrollbar.jquery.min.js?1764939373></script><script src=/farmer/js/jquery.sticky.js?1764939373></script><script src=/farmer/js/featherlight.min.js?1764939373></script><script src=/farmer/js/highlight.pack.js?1764939373></script><script>hljs.initHighlightingOnLoad();</script><script src=/farmer/js/modernizr.custom-3.6.0.js?1764939373></script><script src=/farmer/js/learn.js?1764939373></script><script src=/farmer/js/hugo-learn.js?1764939373></script><link href=/farmer/mermaid/mermaid.css?1764939373 rel=stylesheet><script src=/farmer/mermaid/mermaid.js?1764939373></script><script>mermaid.initialize({startOnLoad:true});</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-72817248-3','auto');ga('send','pageview');</script></body></html>