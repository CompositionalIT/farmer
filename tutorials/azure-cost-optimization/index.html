<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content="Farmer - Making repeatable Azure deployments easy!"><link rel=icon href=/farmer/images/farmer-favicon.png type=image/png><title>Azure Cost Optimization Strategies :: Farmer</title><link href=/farmer/css/nucleus.css?1764939373 rel=stylesheet><link href=/farmer/css/fontawesome-all.min.css?1764939373 rel=stylesheet><link href=/farmer/css/hybrid.css?1764939373 rel=stylesheet><link href=/farmer/css/featherlight.min.css?1764939373 rel=stylesheet><link href=/farmer/css/perfect-scrollbar.min.css?1764939373 rel=stylesheet><link href=/farmer/css/auto-complete.css?1764939373 rel=stylesheet><link href=/farmer/css/atom-one-dark-reasonable.css?1764939373 rel=stylesheet><link href=/farmer/css/theme.css?1764939373 rel=stylesheet><link href=/farmer/css/hugo-theme.css?1764939373 rel=stylesheet><link href=/farmer/css/theme-green.css?1764939373 rel=stylesheet><script src=/farmer/js/jquery-3.3.1.min.js?1764939373></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/farmer/tutorials/azure-cost-optimization/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/farmer/images/logo.png></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/farmer/js/lunr.min.js?1764939373></script><script type=text/javascript src=/farmer/js/auto-complete.js?1764939373></script><script type=text/javascript>var baseurl="https:\/\/compositionalit.github.io\/farmer\/";</script><script type=text/javascript src=/farmer/js/search.js?1764939373></script></div><div class=highlightable><ul class=topics><li data-nav-id=/farmer/about/ title=About class=dd-item><a href=/farmer/about/>About</a></li><li data-nav-id=/farmer/quickstarts/ title=Quickstarts class=dd-item><a href=/farmer/quickstarts/>Quickstarts</a><ul><li data-nav-id=/farmer/quickstarts/quickstart-1/ title="Your first Farmer template" class=dd-item><a href=/farmer/quickstarts/quickstart-1/>Your first Farmer template</a></li><li data-nav-id=/farmer/quickstarts/quickstart-2/ title="Working with multiple resources" class=dd-item><a href=/farmer/quickstarts/quickstart-2/>Working with multiple resources</a></li><li data-nav-id=/farmer/quickstarts/quickstart-3/ title="Deploying to Azure" class=dd-item><a href=/farmer/quickstarts/quickstart-3/>Deploying to Azure</a></li><li data-nav-id=/farmer/quickstarts/template/ title="The Farmer .NET Template" class=dd-item><a href=/farmer/quickstarts/template/>The Farmer .NET Template</a></li></ul></li><li data-nav-id=/farmer/tutorials/ title=Tutorials class="dd-item
parent"><a href=/farmer/tutorials/>Tutorials</a><ul><li data-nav-id=/farmer/tutorials/traditional-ea/ title="Traditional Enterprise Application to the Azure Cloud, managed via Farmer" class=dd-item><a href=/farmer/tutorials/traditional-ea/>Traditional Enterprise Application to the Azure Cloud, managed via Farmer</a></li><li data-nav-id=/farmer/tutorials/webapp-deploy/ title="Deploy an ASP.NET app" class=dd-item><a href=/farmer/tutorials/webapp-deploy/>Deploy an ASP.NET app</a></li><li data-nav-id=/farmer/tutorials/multi-tenant-saas-architecture/ title="Multi-Tenant SaaS Architecture Patterns on Azure" class=dd-item><a href=/farmer/tutorials/multi-tenant-saas-architecture/>Multi-Tenant SaaS Architecture Patterns on Azure</a></li><li data-nav-id=/farmer/tutorials/azure-cost-optimization/ title="Azure Cost Optimization Strategies" class="dd-item active"><a href=/farmer/tutorials/azure-cost-optimization/>Azure Cost Optimization Strategies</a></li><li data-nav-id=/farmer/tutorials/azure-security-best-practices/ title="Azure Security Best Practices" class=dd-item><a href=/farmer/tutorials/azure-security-best-practices/>Azure Security Best Practices</a></li><li data-nav-id=/farmer/tutorials/custom-output/ title="Custom Output with ARM Expressions" class=dd-item><a href=/farmer/tutorials/custom-output/>Custom Output with ARM Expressions</a></li><li data-nav-id=/farmer/tutorials/keyvault-certs/ title="Declarative Steps in an ARM Deployment" class=dd-item><a href=/farmer/tutorials/keyvault-certs/>Declarative Steps in an ARM Deployment</a></li><li data-nav-id=/farmer/tutorials/minecraft-server-aci/ title="Create your own Minecraft Server" class=dd-item><a href=/farmer/tutorials/minecraft-server-aci/>Create your own Minecraft Server</a></li><li data-nav-id=/farmer/tutorials/aci-fsx/ title="F# Script in a Container Group" class=dd-item><a href=/farmer/tutorials/aci-fsx/>F# Script in a Container Group</a></li><li data-nav-id=/farmer/tutorials/cosmos-backed-webapp/ title="Cosmos-backed Web App" class=dd-item><a href=/farmer/tutorials/cosmos-backed-webapp/>Cosmos-backed Web App</a></li><li data-nav-id=/farmer/tutorials/multiple-web-apps/ title="Multiple web apps" class=dd-item><a href=/farmer/tutorials/multiple-web-apps/>Multiple web apps</a></li><li data-nav-id=/farmer/tutorials/serverless-etl/ title="Serverless ETL" class=dd-item><a href=/farmer/tutorials/serverless-etl/>Serverless ETL</a></li><li data-nav-id=/farmer/tutorials/web-storage-keyvault/ title="Web App Secrets with KeyVault" class=dd-item><a href=/farmer/tutorials/web-storage-keyvault/>Web App Secrets with KeyVault</a></li></ul></li><li data-nav-id=/farmer/api-overview/ title="API Overview" class=dd-item><a href=/farmer/api-overview/>API Overview</a><ul><li data-nav-id=/farmer/api-overview/template-generation/ title="Generating templates" class=dd-item><a href=/farmer/api-overview/template-generation/>Generating templates</a></li><li data-nav-id=/farmer/api-overview/expressions/ title="ARM Expressions" class=dd-item><a href=/farmer/api-overview/expressions/>ARM Expressions</a></li><li data-nav-id=/farmer/api-overview/parameters/ title="Parameters and Variables" class=dd-item><a href=/farmer/api-overview/parameters/>Parameters and Variables</a></li><li data-nav-id=/farmer/api-overview/basic-types/ title="Basic Types" class=dd-item><a href=/farmer/api-overview/basic-types/>Basic Types</a></li><li data-nav-id=/farmer/api-overview/dependencies/ title=Dependencies class=dd-item><a href=/farmer/api-overview/dependencies/>Dependencies</a></li><li data-nav-id=/farmer/api-overview/outputs/ title=Outputs class=dd-item><a href=/farmer/api-overview/outputs/>Outputs</a></li><li data-nav-id=/farmer/api-overview/resources/ title=Resources class=dd-item><a href=/farmer/api-overview/resources/>Resources</a><ul><li data-nav-id=/farmer/api-overview/resources/prometheus-rule-group/ title="Alert Management - Prometheus Rule Groups" class=dd-item><a href=/farmer/api-overview/resources/prometheus-rule-group/>Alert Management - Prometheus Rule Groups</a></li><li data-nav-id=/farmer/api-overview/resources/data-collection/ title="Azure Monitor - Data Collection" class=dd-item><a href=/farmer/api-overview/resources/data-collection/>Azure Monitor - Data Collection</a></li><li data-nav-id=/farmer/api-overview/resources/b2c-tenant/ title="B2C Tenant" class=dd-item><a href=/farmer/api-overview/resources/b2c-tenant/>B2C Tenant</a></li><li data-nav-id=/farmer/api-overview/resources/action-group/ title="App Insights - Action Group" class=dd-item><a href=/farmer/api-overview/resources/action-group/>App Insights - Action Group</a></li><li data-nav-id=/farmer/api-overview/resources/application-gateway/ title="Application Gateway" class=dd-item><a href=/farmer/api-overview/resources/application-gateway/>Application Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/alert/ title="App Insights - Alerts" class=dd-item><a href=/farmer/api-overview/resources/alert/>App Insights - Alerts</a></li><li data-nav-id=/farmer/api-overview/resources/availability-tests/ title="App Insights - Availability Tests" class=dd-item><a href=/farmer/api-overview/resources/availability-tests/>App Insights - Availability Tests</a></li><li data-nav-id=/farmer/api-overview/resources/azure-firewall/ title="Azure Firewall" class=dd-item><a href=/farmer/api-overview/resources/azure-firewall/>Azure Firewall</a></li><li data-nav-id=/farmer/api-overview/resources/aks-cluster/ title="AKS Cluster" class=dd-item><a href=/farmer/api-overview/resources/aks-cluster/>AKS Cluster</a></li><li data-nav-id=/farmer/api-overview/resources/app-insights/ title="App Insights" class=dd-item><a href=/farmer/api-overview/resources/app-insights/>App Insights</a></li><li data-nav-id=/farmer/api-overview/resources/bing-search/ title="Bing Search" class=dd-item><a href=/farmer/api-overview/resources/bing-search/>Bing Search</a></li><li data-nav-id=/farmer/api-overview/resources/bastion-host/ title="Bastion Host" class=dd-item><a href=/farmer/api-overview/resources/bastion-host/>Bastion Host</a></li><li data-nav-id=/farmer/api-overview/resources/container-apps/ title="Container Apps" class=dd-item><a href=/farmer/api-overview/resources/container-apps/>Container Apps</a></li><li data-nav-id=/farmer/api-overview/resources/communication-services/ title="Communication Services" class=dd-item><a href=/farmer/api-overview/resources/communication-services/>Communication Services</a></li><li data-nav-id=/farmer/api-overview/resources/container-group/ title="Container Group" class=dd-item><a href=/farmer/api-overview/resources/container-group/>Container Group</a></li><li data-nav-id=/farmer/api-overview/resources/container-registry/ title="Container Registry" class=dd-item><a href=/farmer/api-overview/resources/container-registry/>Container Registry</a></li><li data-nav-id=/farmer/api-overview/resources/cognitive-services/ title="Cognitive Services" class=dd-item><a href=/farmer/api-overview/resources/cognitive-services/>Cognitive Services</a></li><li data-nav-id=/farmer/api-overview/resources/cosmos-db/ title="Cosmos DB" class=dd-item><a href=/farmer/api-overview/resources/cosmos-db/>Cosmos DB</a></li><li data-nav-id=/farmer/api-overview/resources/cdn/ title=CDN class=dd-item><a href=/farmer/api-overview/resources/cdn/>CDN</a></li><li data-nav-id=/farmer/api-overview/resources/dns-resolver/ title="DNS Resolver" class=dd-item><a href=/farmer/api-overview/resources/dns-resolver/>DNS Resolver</a></li><li data-nav-id=/farmer/api-overview/resources/dashboard/ title=Dashboard class=dd-item><a href=/farmer/api-overview/resources/dashboard/>Dashboard</a></li><li data-nav-id=/farmer/api-overview/resources/databricks-workspace/ title="Databricks Workspace" class=dd-item><a href=/farmer/api-overview/resources/databricks-workspace/>Databricks Workspace</a></li><li data-nav-id=/farmer/api-overview/resources/deployment-script/ title="Deployment Script" class=dd-item><a href=/farmer/api-overview/resources/deployment-script/>Deployment Script</a></li><li data-nav-id=/farmer/api-overview/resources/dns/ title="DNS Zone" class=dd-item><a href=/farmer/api-overview/resources/dns/>DNS Zone</a></li><li data-nav-id=/farmer/api-overview/resources/data-lake/ title="Data Lake" class=dd-item><a href=/farmer/api-overview/resources/data-lake/>Data Lake</a></li><li data-nav-id=/farmer/api-overview/resources/diagnosticsetting/ title="Diagnostic Settings" class=dd-item><a href=/farmer/api-overview/resources/diagnosticsetting/>Diagnostic Settings</a></li><li data-nav-id=/farmer/api-overview/resources/dedicated-hosts/ title="Dedicated Hosts" class=dd-item><a href=/farmer/api-overview/resources/dedicated-hosts/>Dedicated Hosts</a></li><li data-nav-id=/farmer/api-overview/resources/route-tables/ title="Route Tables" class=dd-item><a href=/farmer/api-overview/resources/route-tables/>Route Tables</a></li><li data-nav-id=/farmer/api-overview/resources/nat-gateway/ title="NAT Gateway" class=dd-item><a href=/farmer/api-overview/resources/nat-gateway/>NAT Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/event-grid/ title="Event Grid" class=dd-item><a href=/farmer/api-overview/resources/event-grid/>Event Grid</a></li><li data-nav-id=/farmer/api-overview/resources/express-route/ title=ExpressRoute class=dd-item><a href=/farmer/api-overview/resources/express-route/>ExpressRoute</a></li><li data-nav-id=/farmer/api-overview/resources/event-hub/ title="Event Hub" class=dd-item><a href=/farmer/api-overview/resources/event-hub/>Event Hub</a></li><li data-nav-id=/farmer/api-overview/resources/network-interface/ title="Network Interface" class=dd-item><a href=/farmer/api-overview/resources/network-interface/>Network Interface</a></li><li data-nav-id=/farmer/api-overview/resources/route-server/ title="Route Server" class=dd-item><a href=/farmer/api-overview/resources/route-server/>Route Server</a></li><li data-nav-id=/farmer/api-overview/resources/functions/ title=Functions class=dd-item><a href=/farmer/api-overview/resources/functions/>Functions</a></li><li data-nav-id=/farmer/api-overview/resources/iot-hub/ title="IOT Hub" class=dd-item><a href=/farmer/api-overview/resources/iot-hub/>IOT Hub</a></li><li data-nav-id=/farmer/api-overview/resources/gallery/ title=Gallery class=dd-item><a href=/farmer/api-overview/resources/gallery/>Gallery</a></li><li data-nav-id=/farmer/api-overview/resources/image-template/ title="Image Template" class=dd-item><a href=/farmer/api-overview/resources/image-template/>Image Template</a></li><li data-nav-id=/farmer/api-overview/resources/keyvault/ title="Key Vault" class=dd-item><a href=/farmer/api-overview/resources/keyvault/>Key Vault</a></li><li data-nav-id=/farmer/api-overview/resources/private-endpoint/ title="Private Endpoint" class=dd-item><a href=/farmer/api-overview/resources/private-endpoint/>Private Endpoint</a></li><li data-nav-id=/farmer/api-overview/resources/private-link-service/ title="Private Link Service" class=dd-item><a href=/farmer/api-overview/resources/private-link-service/>Private Link Service</a></li><li data-nav-id=/farmer/api-overview/resources/logic-apps/ title="Logic Apps" class=dd-item><a href=/farmer/api-overview/resources/logic-apps/>Logic Apps</a></li><li data-nav-id=/farmer/api-overview/resources/load-balancer/ title="Load Balancer" class=dd-item><a href=/farmer/api-overview/resources/load-balancer/>Load Balancer</a></li><li data-nav-id=/farmer/api-overview/resources/loganalytics/ title="Log Analytics" class=dd-item><a href=/farmer/api-overview/resources/loganalytics/>Log Analytics</a></li><li data-nav-id=/farmer/api-overview/resources/managed-identity/ title="Managed Identity" class=dd-item><a href=/farmer/api-overview/resources/managed-identity/>Managed Identity</a></li><li data-nav-id=/farmer/api-overview/resources/maps/ title=Maps class=dd-item><a href=/farmer/api-overview/resources/maps/>Maps</a></li><li data-nav-id=/farmer/api-overview/resources/nsg/ title="Network Security Group" class=dd-item><a href=/farmer/api-overview/resources/nsg/>Network Security Group</a></li><li data-nav-id=/farmer/api-overview/resources/operations-management/ title="Operations Management" class=dd-item><a href=/farmer/api-overview/resources/operations-management/>Operations Management</a></li><li data-nav-id=/farmer/api-overview/resources/postgresql/ title=PostgreSQL class=dd-item><a href=/farmer/api-overview/resources/postgresql/>PostgreSQL</a></li><li data-nav-id=/farmer/api-overview/resources/redis/ title="Redis Cache" class=dd-item><a href=/farmer/api-overview/resources/redis/>Redis Cache</a></li><li data-nav-id=/farmer/api-overview/resources/resource-group/ title="Resource Group" class=dd-item><a href=/farmer/api-overview/resources/resource-group/>Resource Group</a></li><li data-nav-id=/farmer/api-overview/resources/signalr/ title=SignalR class=dd-item><a href=/farmer/api-overview/resources/signalr/>SignalR</a></li><li data-nav-id=/farmer/api-overview/resources/search/ title=Search class=dd-item><a href=/farmer/api-overview/resources/search/>Search</a></li><li data-nav-id=/farmer/api-overview/resources/service-bus/ title="Service Bus" class=dd-item><a href=/farmer/api-overview/resources/service-bus/>Service Bus</a></li><li data-nav-id=/farmer/api-overview/resources/sql/ title="SQL Azure" class=dd-item><a href=/farmer/api-overview/resources/sql/>SQL Azure</a></li><li data-nav-id=/farmer/api-overview/resources/static-web-app/ title="Static Web Apps" class=dd-item><a href=/farmer/api-overview/resources/static-web-app/>Static Web Apps</a></li><li data-nav-id=/farmer/api-overview/resources/storage-account/ title="Storage Account" class=dd-item><a href=/farmer/api-overview/resources/storage-account/>Storage Account</a></li><li data-nav-id=/farmer/api-overview/resources/traffic-manager/ title="Traffic Manager" class=dd-item><a href=/farmer/api-overview/resources/traffic-manager/>Traffic Manager</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-machine/ title="Virtual Machine" class=dd-item><a href=/farmer/api-overview/resources/virtual-machine/>Virtual Machine</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-hub/ title="Virtual Hub" class=dd-item><a href=/farmer/api-overview/resources/virtual-hub/>Virtual Hub</a></li><li data-nav-id=/farmer/api-overview/resources/vnet/ title="Virtual Network" class=dd-item><a href=/farmer/api-overview/resources/vnet/>Virtual Network</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-wan/ title="Virtual WAN" class=dd-item><a href=/farmer/api-overview/resources/virtual-wan/>Virtual WAN</a></li><li data-nav-id=/farmer/api-overview/resources/vnet-gateway/ title="Virtual Network Gateway" class=dd-item><a href=/farmer/api-overview/resources/vnet-gateway/>Virtual Network Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/vm-scale-set/ title="Virtual Machine Scale Set" class=dd-item><a href=/farmer/api-overview/resources/vm-scale-set/>Virtual Machine Scale Set</a></li><li data-nav-id=/farmer/api-overview/resources/disk/ title=Disk class=dd-item><a href=/farmer/api-overview/resources/disk/>Disk</a></li><li data-nav-id=/farmer/api-overview/resources/web-app/ title="Web App" class=dd-item><a href=/farmer/api-overview/resources/web-app/>Web App</a></li><li data-nav-id=/farmer/api-overview/resources/autoscale-settings/ title="Autoscale Settings" class=dd-item><a href=/farmer/api-overview/resources/autoscale-settings/>Autoscale Settings</a></li></ul></li></ul></li><li data-nav-id=/farmer/arm-vs-farmer/ title="Farmer and ARM" class=dd-item><a href=/farmer/arm-vs-farmer/>Farmer and ARM</a></li><li data-nav-id=/farmer/deployment-guidance/ title="Deployment Guidance" class=dd-item><a href=/farmer/deployment-guidance/>Deployment Guidance</a></li><li data-nav-id=/farmer/support/ title="Commercial Support" class=dd-item><a href=/farmer/support/>Commercial Support</a></li><li data-nav-id=/farmer/testimonials/ title=Testimonials class=dd-item><a href=/farmer/testimonials/>Testimonials</a></li><li data-nav-id=/farmer/links/ title=Links class=dd-item><a href=/farmer/links/>Links</a></li><li data-nav-id=/farmer/contributing/ title=Contributing class=dd-item><a href=/farmer/contributing/>Contributing</a><ul><li data-nav-id=/farmer/contributing/arm-basics/ title="ARM Basics" class=dd-item><a href=/farmer/contributing/arm-basics/>ARM Basics</a></li><li data-nav-id=/farmer/contributing/outputs-and-expressions/ title="Outputs and ARM Expressions" class=dd-item><a href=/farmer/contributing/outputs-and-expressions/>Outputs and ARM Expressions</a></li><li data-nav-id=/farmer/contributing/create-pull-requests/ title="Creating Pull Requests" class=dd-item><a href=/farmer/contributing/create-pull-requests/>Creating Pull Requests</a></li><li data-nav-id=/farmer/contributing/adding-resources/ title="Supporting a new ARM Resource" class=dd-item><a href=/farmer/contributing/adding-resources/>Supporting a new ARM Resource</a><ul><li data-nav-id=/farmer/contributing/adding-resources/1-the-farmer-pipline/ title="1. The Farmer Pipeline" class=dd-item><a href=/farmer/contributing/adding-resources/1-the-farmer-pipline/>1. The Farmer Pipeline</a></li><li data-nav-id=/farmer/contributing/adding-resources/2-iarm-resource/ title="2. The IArmResource" class=dd-item><a href=/farmer/contributing/adding-resources/2-iarm-resource/>2. The IArmResource</a></li><li data-nav-id=/farmer/contributing/adding-resources/3-ibuilder/ title="3. The IBuilder interface" class=dd-item><a href=/farmer/contributing/adding-resources/3-ibuilder/>3. The IBuilder interface</a></li><li data-nav-id=/farmer/contributing/adding-resources/4-creating-builder-syntax/ title="4. Providing Builder syntax" class=dd-item><a href=/farmer/contributing/adding-resources/4-creating-builder-syntax/>4. Providing Builder syntax</a></li><li data-nav-id=/farmer/contributing/adding-resources/5-unit-testing/ title="5. Unit Testing" class=dd-item><a href=/farmer/contributing/adding-resources/5-unit-testing/>5. Unit Testing</a></li></ul></li></ul></li><li data-nav-id=/farmer/faq/ title=FAQs class=dd-item><a href=/farmer/faq/>FAQs</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/compositionalit/farmer><i class="fab fa-fw fa-github"></i>GitHub repo</a></li><li><a class=padding href=https://www.nuget.org/packages/Farmer/><i class="fab fa-fw fa-microsoft"></i>Nuget</a></li><li><a class=padding href=https://compositional-it.com><img src=/farmer/images/cit.png></img> Compositional IT</a></li></ul></section><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/CompositionalIT/farmer/tree/master/docs/content/tutorials/azure-cost-optimization.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/farmer/>Farmer</a> > <a href=/farmer/tutorials/>Tutorials</a> > Azure Cost Optimization Strategies</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#azure-cost-optimization-strategies>Azure Cost Optimization Strategies</a><ul><li><a href=#understanding-azure-cost-structure>Understanding Azure Cost Structure</a></li><li><a href=#environment-specific-cost-tiers>Environment-Specific Cost Tiers</a></li><li><a href=#app-service-cost-optimization>App Service Cost Optimization</a></li><li><a href=#azure-sql-database-cost-optimization>Azure SQL Database Cost Optimization</a></li><li><a href=#storage-account-cost-optimization>Storage Account Cost Optimization</a></li><li><a href=#virtual-network-and-gateway-costs>Virtual Network and Gateway Costs</a></li><li><a href=#application-insights-cost-management>Application Insights Cost Management</a></li><li><a href=#traffic-manager-vs-azure-front-door>Traffic Manager vs Azure Front Door</a></li><li><a href=#cost-monitoring-and-alerting>Cost Monitoring and Alerting</a></li><li><a href=#reserved-instances-and-savings-plans>Reserved Instances and Savings Plans</a></li><li><a href=#quick-wins-checklist>Quick Wins Checklist</a></li><li><a href=#cost-anti-patterns-to-avoid>Cost Anti-Patterns to Avoid</a></li><li><a href=#monthly-cost-targets-by-environment>Monthly Cost Targets by Environment</a></li><li><a href=#additional-resources>Additional Resources</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Azure Cost Optimization Strategies</h1><h2 id=azure-cost-optimization-strategies>Azure Cost Optimization Strategies</h2><p>This guide provides practical approaches to reduce Azure infrastructure costs while maintaining security, reliability, and performance. Based on the Microsoft Azure Well-Architected Framework Cost Optimization pillar and real-world implementations.</p><p><strong>Note on Pricing</strong>: Cost figures in this guide are approximate as of January 2025 in USD for the East US region. Azure pricing varies by region, currency, and billing agreements. Always verify current pricing at <a href=https://azure.microsoft.com/pricing/calculator/>https://azure.microsoft.com/pricing/calculator/</a> before making budget decisions.</p><h3 id=understanding-azure-cost-structure>Understanding Azure Cost Structure</h3><p>Azure costs follow a consumption-based model. The largest cost drivers are typically compute, storage, and networking. According to Microsoft&rsquo;s Azure Cost Management best practices, organizations can reduce cloud spend by 30-50% through systematic optimization.</p><p>Reference: Azure Well-Architected Framework - Cost Optimization (<a href=https://learn.microsoft.com/en-us/azure/well-architected/cost-optimization/>https://learn.microsoft.com/en-us/azure/well-architected/cost-optimization/</a>)</p><h3 id=environment-specific-cost-tiers>Environment-Specific Cost Tiers</h3><p>Different environments require different cost-performance trade-offs. This strategy is used by Azure MVPs and documented in Microsoft&rsquo;s Cloud Adoption Framework.</p><h4 id=development-environment>Development Environment</h4><p>Optimize for minimal costs while maintaining functionality for developers.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer
<span style=color:#66d9ef>open</span> Farmer.Builders
<span style=color:#66d9ef>open</span> Sql

<span style=color:#75715e>// Minimal App Service Plan
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> devAppPlan <span style=color:#f92672>=</span> servicePlan <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;dev-app-plan&#34;</span>
    sku WebApp.Sku.F1  <span style=color:#75715e>// FREE tier
</span><span style=color:#75715e></span>    operating_system OS.Linux
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>let</span> devWebApp <span style=color:#f92672>=</span> webApp <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;dev-web-app&#34;</span>
    link_to_service_plan devAppPlan
    https_only
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Basic SQL Database
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> devDatabase <span style=color:#f92672>=</span> sqlServer <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;dev-sql-server&#34;</span>
    admin_username <span style=color:#e6db74>&#34;sqladmin&#34;</span>
    add_databases <span style=color:#f92672>[</span>
        sqlDb <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;devdb&#34;</span>
            sku Basic  <span style=color:#75715e>// ~$5/month
</span><span style=color:#75715e></span>        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Standard storage (LRS)
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> devStorage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;devstorage&#34;</span>
    sku Storage.Sku.Standard_LRS  <span style=color:#75715e>// Cheapest replication
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#66d9ef>let</span> devEnvironment <span style=color:#f92672>=</span> arm <span style=color:#f92672>{</span>
    location Location.EastUS
    add_resources <span style=color:#f92672>[</span>
        devAppPlan
        devWebApp
        devDatabase
        devStorage
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>Development Cost</strong>: $30-80/month</p><table><thead><tr><th>Component</th><th>SKU</th><th>Monthly Cost</th></tr></thead><tbody><tr><td>App Service Plan</td><td>F1 (Free)</td><td>$0</td></tr><tr><td>SQL Database</td><td>Basic</td><td>~$5</td></tr><tr><td>Storage Account</td><td>Standard LRS</td><td>~$2</td></tr><tr><td>Application Insights</td><td>5GB free</td><td>$0-10</td></tr></tbody></table><h4 id=staging-environment>Staging Environment</h4><p>Balance cost and production similarity for pre-production testing.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// Shared App Service Plan
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> stagingPlan <span style=color:#f92672>=</span> servicePlan <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;staging-plan&#34;</span>
    sku WebApp.Sku.B1  <span style=color:#75715e>// Basic tier ~$13/month
</span><span style=color:#75715e></span>    operating_system OS.Linux
    number_of_workers 1
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>let</span> stagingDatabase <span style=color:#f92672>=</span> sqlServer <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;staging-sql&#34;</span>
    admin_username <span style=color:#e6db74>&#34;sqladmin&#34;</span>
    add_databases <span style=color:#f92672>[</span>
        sqlDb <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;stagingdb&#34;</span>
            sku DtuSku.S1  <span style=color:#75715e>// Standard tier ~$30/month
</span><span style=color:#75715e></span>        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Geo-redundant storage for testing failover
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> stagingStorage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;stagingstorage&#34;</span>
    sku Storage.Sku.Standard_GRS
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>let</span> stagingEnvironment <span style=color:#f92672>=</span> arm <span style=color:#f92672>{</span>
    location Location.EastUS
    add_resources <span style=color:#f92672>[</span>
        stagingPlan
        stagingDatabase
        stagingStorage
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>Staging Cost</strong>: $100-200/month</p><h4 id=production-environment>Production Environment</h4><p>Optimized for reliability and performance with managed costs.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// Production App Service with scale-out
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> prodPlan <span style=color:#f92672>=</span> servicePlan <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;prod-plan&#34;</span>
    sku WebApp.Sku.P1V3  <span style=color:#75715e>// Premium v3 ~$100/month
</span><span style=color:#75715e></span>    number_of_workers 2
    operating_system OS.Linux
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>let</span> prodInsights <span style=color:#f92672>=</span> appInsights <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;prod-insights&#34;</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>let</span> prodApp <span style=color:#f92672>=</span> webApp <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;prod-web-app&#34;</span>
    link_to_service_plan prodPlan
    always_on
    https_only
    link_to_app_insights prodInsights<span style=color:#f92672>.</span>Name
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Production database with DTU-based pricing
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> prodDatabase <span style=color:#f92672>=</span> sqlServer <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;prod-sql&#34;</span>
    admin_username <span style=color:#e6db74>&#34;sqladmin&#34;</span>
    add_databases <span style=color:#f92672>[</span>
        sqlDb <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;proddb&#34;</span>
            sku DtuSku.S3  <span style=color:#75715e>// 100 DTUs ~$150/month
</span><span style=color:#75715e></span>        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
    <span style=color:#75715e>// Geo-replication to West US for disaster recovery
</span><span style=color:#75715e></span>    geo_replicate <span style=color:#f92672>({</span>
        NameSuffix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;-replica&#34;</span>
        Location <span style=color:#f92672>=</span> Location.WestUS
        DbSku <span style=color:#f92672>=</span> Some DtuSku.S3
    <span style=color:#f92672>})</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Premium storage with geo-redundancy
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> prodStorage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;prodstorage&#34;</span>
    sku Storage.Sku.Premium_LRS
    enable_data_lake <span style=color:#66d9ef>true</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>let</span> productionEnvironment <span style=color:#f92672>=</span> arm <span style=color:#f92672>{</span>
    location Location.EastUS
    add_resources <span style=color:#f92672>[</span>
        prodPlan
        prodInsights
        prodApp
        prodDatabase
        prodStorage
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>Production Cost</strong>: $400-800/month</p><h3 id=app-service-cost-optimization>App Service Cost Optimization</h3><p>App Service Plans are often the largest compute cost. Strategic optimization can reduce costs by 40-60%.</p><h4 id=right-sizing-app-service-plans>Right-Sizing App Service Plans</h4><p>According to Microsoft&rsquo;s App Service best practices, most applications are over-provisioned by 30-50%.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// Cost comparison for App Service Plans
</span><span style=color:#75715e></span><span style=color:#75715e>(*
</span><span style=color:#75715e>F1 (Free):        $0/month      - Dev/test only, 60 min/day limit
</span><span style=color:#75715e>B1 (Basic):       ~$13/month    - Small apps, no auto-scale
</span><span style=color:#75715e>B2 (Basic):       ~$25/month    - Medium apps
</span><span style=color:#75715e>S1 (Standard):    ~$70/month    - Production, auto-scale, 5 slots
</span><span style=color:#75715e>P1V3 (Premium):   ~$100/month   - High performance, better CPU
</span><span style=color:#75715e>P2V3 (Premium):   ~$200/month   - Scale-intensive workloads
</span><span style=color:#75715e>*)</span>

<span style=color:#75715e>// Use consumption-based Functions for sporadic workloads
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> scheduledJob <span style=color:#f92672>=</span> functions <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;scheduled-processor&#34;</span>
    <span style=color:#75715e>// Consumption plan is the default
</span><span style=color:#75715e></span>    <span style=color:#75715e>// Schedule configuration is done in the function app code, not infrastructure
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><h4 id=app-service-reserved-instances>App Service Reserved Instances</h4><p>Azure Reserved Instances provide 30-65% savings for 1-3 year commitments. Purchase through Azure portal, not Farmer deployment.</p><p><strong>Savings Examples:</strong></p><ul><li>P1V3 (1 year): Save 30% (~$35/month)</li><li>P1V3 (3 years): Save 65% (~$65/month)</li><li>P2V3 (3 years): Save $130/month per instance</li></ul><p>Reference: Azure Reserved Instances pricing (<a href=https://azure.microsoft.com/en-us/pricing/reserved-vm-instances/>https://azure.microsoft.com/en-us/pricing/reserved-vm-instances/</a>)</p><h3 id=azure-sql-database-cost-optimization>Azure SQL Database Cost Optimization</h3><p>SQL Database offers multiple pricing models. Choosing the right model can reduce costs by 50-70%.</p><h4 id=dtu-vs-vcore-pricing-models>DTU vs vCore Pricing Models</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Sql

<span style=color:#75715e>// DTU Model: Simpler, bundled compute and storage
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> dtuDatabase <span style=color:#f92672>=</span> sqlDb <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;dtu-database&#34;</span>
    sku DtuSku.S1  <span style=color:#75715e>// 20 DTUs, ~$30/month
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#75715e>// vCore Model: More control, better for large databases
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> vCoreDatabase <span style=color:#f92672>=</span> sqlDb <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;vcore-database&#34;</span>
    sku <span style=color:#f92672>(</span>GeneralPurpose Gen5_2<span style=color:#f92672>)</span>  <span style=color:#75715e>// 2 vCores, ~$500/month
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#75715e>// Serverless: Best for intermittent workloads
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> serverlessDb <span style=color:#f92672>=</span> sqlDb <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;serverless-db&#34;</span>
    sku <span style=color:#f92672>(</span>GeneralPurpose<span style=color:#f92672>(</span>S_Gen5<span style=color:#f92672>(</span>0<span style=color:#f92672>.</span>5<span style=color:#f92672>,</span> 2<span style=color:#f92672>.</span>0<span style=color:#f92672>)))</span>  <span style=color:#75715e>// 0.5-2 vCores serverless
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><h4 id=cost-comparison-by-workload>Cost Comparison by Workload</h4><table><thead><tr><th>Workload Type</th><th>Recommended SKU</th><th>Monthly Cost</th><th>Use Case</th></tr></thead><tbody><tr><td>Development</td><td>Basic (5 DTUs)</td><td>~$5</td><td>Dev/test databases</td></tr><tr><td>Small Production</td><td>S1 (20 DTUs)</td><td>~$30</td><td>&lt;100 users, simple queries</td></tr><tr><td>Medium Production</td><td>S3 (100 DTUs)</td><td>~$150</td><td>100-1000 users, complex queries</td></tr><tr><td>Large Production</td><td>GP Gen5 4 vCore</td><td>~$700</td><td>>1000 users, always-on</td></tr><tr><td>Sporadic Use</td><td>Serverless 0.5-4 vCore</td><td>$90-300</td><td>Intermittent access patterns</td></tr></tbody></table><p>Reference: Azure SQL Database pricing documentation (<a href=https://azure.microsoft.com/en-us/pricing/details/azure-sql-database/>https://azure.microsoft.com/en-us/pricing/details/azure-sql-database/</a>)</p><h4 id=elastic-pools-for-multiple-databases>Elastic Pools for Multiple Databases</h4><p>Use elastic pools when running multiple databases with varying load patterns. This is recommended by Microsoft for SaaS applications.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Sql

<span style=color:#66d9ef>let</span> elasticPoolServer <span style=color:#f92672>=</span> sqlServer <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;multi-tenant-server&#34;</span>
    admin_username <span style=color:#e6db74>&#34;pooladmin&#34;</span>
    elastic_pool_name <span style=color:#e6db74>&#34;shared-pool&#34;</span>
    elastic_pool_sku PoolSku.Basic200
    add_databases <span style=color:#f92672>[</span>
        sqlDb <span style=color:#f92672>{</span> name <span style=color:#e6db74>&#34;tenant-db-1&#34;</span> <span style=color:#f92672>}</span>  <span style=color:#75715e>// No SKU needed, uses pool
</span><span style=color:#75715e></span>        sqlDb <span style=color:#f92672>{</span> name <span style=color:#e6db74>&#34;tenant-db-2&#34;</span> <span style=color:#f92672>}</span>
        sqlDb <span style=color:#f92672>{</span> name <span style=color:#e6db74>&#34;tenant-db-3&#34;</span> <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>Cost Savings Example:</strong></p><ul><li>10 databases Ã— S1 DTU: $300/month</li><li>Elastic pool (200 eDTUs): $180/month</li><li><strong>Savings: 40%</strong></li></ul><h3 id=storage-account-cost-optimization>Storage Account Cost Optimization</h3><p>Storage costs accumulate over time. Lifecycle management and tier optimization are critical.</p><h4 id=storage-tiers-and-lifecycle-policies>Storage Tiers and Lifecycle Policies</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>let</span> optimizedStorage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;optimizedstorage&#34;</span>
    sku Storage.Sku.Standard_LRS
    add_lifecycle_rule <span style=color:#e6db74>&#34;archive-old-data&#34;</span> <span style=color:#f92672>[</span>
        Storage.DeleteAfter 365<span style=color:#f92672>&lt;</span>Days<span style=color:#f92672>&gt;</span>
        Storage.CoolAfter 30<span style=color:#f92672>&lt;</span>Days<span style=color:#f92672>&gt;</span>
        Storage.ArchiveAfter 90<span style=color:#f92672>&lt;</span>Days<span style=color:#f92672>&gt;</span>
    <span style=color:#f92672>]</span> Storage.NoRuleFilters
<span style=color:#f92672>}</span>
</code></pre></div><p><strong>Storage Tier Costs (per GB/month):</strong></p><ul><li>Hot: $0.0184 - Frequent access</li><li>Cool: $0.01 - Infrequent access (>30 days)</li><li>Archive: $0.002 - Rare access (>180 days)</li></ul><p><strong>Cost Optimization Strategy:</strong></p><ol><li>Start all data in Hot tier</li><li>Move to Cool after 30 days (save 45%)</li><li>Move to Archive after 90 days (save 89%)</li><li>Delete after 365 days (save 100%)</li></ol><h4 id=replication-strategy-by-environment>Replication Strategy by Environment</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// Development: Locally Redundant (LRS) - Cheapest
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> devStorage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;devstorage&#34;</span>
    sku Storage.Sku.Standard_LRS  <span style=color:#75715e>// 1x cost
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#75715e>// Production: Zone-Redundant (ZRS) - Balanced
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> prodStorage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;prodstorage&#34;</span>
    sku Storage.Sku.Standard_ZRS  <span style=color:#75715e>// 1.25x cost
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#75715e>// Critical: Geo-Redundant (GRS) - Most reliable
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> criticalStorage <span style=color:#f92672>=</span> storageAccount <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;criticalstorage&#34;</span>
    sku Storage.Sku.Standard_GRS  <span style=color:#75715e>// 2x cost
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><h3 id=virtual-network-and-gateway-costs>Virtual Network and Gateway Costs</h3><p>Networking costs are often overlooked but can reach $500-2000/month in enterprise deployments.</p><h4 id=vpn-gateway-vs-expressroute>VPN Gateway vs ExpressRoute</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer.VirtualNetworkGateway

<span style=color:#75715e>// VPN Gateway: $27-650/month depending on SKU
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> vpnGateway <span style=color:#f92672>=</span> gateway <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;site-to-site-vpn&#34;</span>
    vnet <span style=color:#e6db74>&#34;my-vnet&#34;</span>
    vpn_gateway_sku VpnGatewaySku.VpnGw1  <span style=color:#75715e>// ~$140/month + data transfer
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>

<span style=color:#75715e>// ExpressRoute: $55-5,200/month for dedicated connection
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> expressRouteGateway <span style=color:#f92672>=</span> gateway <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;express-route-gw&#34;</span>
    vnet <span style=color:#e6db74>&#34;my-vnet&#34;</span>
    er_gateway_sku ErGatewaySku.Standard  <span style=color:#75715e>// Configure capacity via portal
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><p><strong>Cost Comparison:</strong>
| Connection Type | Monthly Cost | Data Transfer | Use Case |
|&mdash;&mdash;&mdash;&mdash;&mdash;-|&mdash;&mdash;&mdash;&mdash;&ndash;|&mdash;&mdash;&mdash;&mdash;&mdash;|&mdash;&mdash;&mdash;-|
| VPN Gateway Basic | ~$27 | $0.087/GB | Dev/test |
| VPN Gateway VpnGw1 | ~$140 | $0.087/GB | Production |
| ExpressRoute 50 Mbps | ~$55 | First 5TB free | Small enterprise |
| ExpressRoute 1 Gbps | ~$700 | First 5TB free | Large enterprise |</p><h4 id=nat-gateway-vs-public-ips>NAT Gateway vs Public IPs</h4><p>For outbound connectivity from private subnets, compare NAT Gateway costs with individual public IPs.</p><p><strong>NAT Gateway</strong>: $32.50/month + $0.045/GB processed
<strong>Public IP</strong>: $3.50/month per IP (no data charges)</p><p>Use NAT Gateway when:</p><ul><li>Need >10 outbound IPs</li><li>Require consistent source IP for whitelisting</li><li>High outbound traffic volume (>700 GB/month)</li></ul><h3 id=application-insights-cost-management>Application Insights Cost Management</h3><p>Application Insights charges per GB ingested. Uncontrolled logging can cost thousands per month.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>let</span> costOptimizedInsights <span style=color:#f92672>=</span> appInsights <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;optimized-insights&#34;</span>
    retention_days 30  <span style=color:#75715e>// Default is 90 days
</span><span style=color:#75715e></span>    
    <span style=color:#75715e>// Note: Sampling is configured in application code via ApplicationInsights SDK
</span><span style=color:#75715e></span>    <span style=color:#75715e>// Not available as an infrastructure setting in Farmer
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><p><strong>Typical Costs:</strong></p><ul><li>First 5 GB/month: FREE</li><li>Beyond 5 GB: $2.30/GB</li></ul><p><strong>Cost Reduction Strategies:</strong></p><ol><li>Adjust sampling (50% = 50% cost reduction)</li><li>Reduce retention (90 to 30 days)</li><li>Filter verbose telemetry at source</li><li>Use separate App Insights per environment</li></ol><p>Reference: Application Insights pricing (<a href=https://azure.microsoft.com/en-us/pricing/details/monitor/>https://azure.microsoft.com/en-us/pricing/details/monitor/</a>)</p><h3 id=traffic-manager-vs-azure-front-door>Traffic Manager vs Azure Front Door</h3><p>For global load balancing and routing, choose based on features needed.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer.TrafficManager

<span style=color:#75715e>// Traffic Manager: DNS-based, $0.54/million queries
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> trafficMgr <span style=color:#f92672>=</span> trafficManager <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;global-traffic&#34;</span>
    routing_method RoutingMethod.Performance
    add_endpoints <span style=color:#f92672>[</span>
        endpoint <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;us-endpoint&#34;</span>
            target_external <span style=color:#e6db74>&#34;app-us.example.com&#34;</span> Location.EastUS
        <span style=color:#f92672>}</span>
        endpoint <span style=color:#f92672>{</span>
            name <span style=color:#e6db74>&#34;eu-endpoint&#34;</span>
            target_external <span style=color:#e6db74>&#34;app-eu.example.com&#34;</span> Location.NorthEurope
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>

<span style=color:#75715e>// Azure Front Door: Application layer, starts at ~$35/month
</span><span style=color:#75715e>// Configure via Azure Portal - advanced CDN/WAF features
</span></code></pre></div><p><strong>Cost Comparison:</strong>
| Service | Base Cost | Data Transfer | Use Case |
|&mdash;&mdash;&mdash;|&mdash;&mdash;&mdash;&ndash;|&mdash;&mdash;&mdash;&mdash;&mdash;|&mdash;&mdash;&mdash;-|
| Traffic Manager | $0.54/M queries | Standard egress | DNS routing only |
| Azure Front Door | ~$35/month | $0.11/GB | WAF, caching, SSL offload |</p><h3 id=cost-monitoring-and-alerting>Cost Monitoring and Alerting</h3><p>Implement budget alerts to prevent cost overruns. This is critical for development accounts.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#75715e>// Note: Azure Budgets created via portal or Azure CLI
</span><span style=color:#75715e>// Example using Azure CLI:
</span><span style=color:#75715e></span><span style=color:#75715e>(*
</span><span style=color:#75715e>az consumption budget create \
</span><span style=color:#75715e>  --budget-name </span><span style=color:#e6db74>&#34;dev-environment-budget&#34;</span><span style=color:#75715e> \
</span><span style=color:#75715e>  --amount 100 \
</span><span style=color:#75715e>  --resource-group dev-rg \
</span><span style=color:#75715e>  --time-grain Monthly \
</span><span style=color:#75715e>  --start-date 2025-01-01T00:00:00Z \
</span><span style=color:#75715e>  --end-date 2026-01-01T00:00:00Z
</span><span style=color:#75715e>*)</span>
</code></pre></div><h3 id=reserved-instances-and-savings-plans>Reserved Instances and Savings Plans</h3><p>Azure offers significant discounts for long-term commitments. According to Microsoft, customers save an average of 40-65%.</p><p><strong>Reserved Instance Savings:</strong></p><ul><li>1 year commitment: 30-40% savings</li><li>3 year commitment: 50-65% savings</li></ul><p><strong>Purchase Strategy:</strong></p><ol><li>Analyze 6-12 months of usage</li><li>Reserve 60-80% of stable workloads</li><li>Keep 20-40% on-demand for flexibility</li><li>Review quarterly and adjust</li></ol><p>Reference: Azure Reservations documentation (<a href=https://learn.microsoft.com/en-us/azure/cost-management-billing/reservations/>https://learn.microsoft.com/en-us/azure/cost-management-billing/reservations/</a>)</p><h3 id=quick-wins-checklist>Quick Wins Checklist</h3><p>Implement these changes for immediate cost reduction:</p><ol><li><strong>Right-size App Service Plans</strong>: Review CPU and memory metrics, downgrade over-provisioned plans (20-40% savings)</li><li><strong>Enable storage lifecycle policies</strong>: Move old blobs to Cool/Archive tiers (40-90% storage savings)</li><li><strong>Use Basic tier for dev/test</strong>: Switch non-production to B1/B2 plans instead of S1 (40-80% savings)</li><li><strong>Delete unused resources</strong>: Remove orphaned disks, NICs, public IPs (5-15% overall savings)</li><li><strong>Enable auto-shutdown for VMs</strong>: Stop dev/test VMs outside business hours (60-75% VM savings)</li><li><strong>Review Application Insights</strong>: Adjust sampling and retention (30-50% monitoring savings)</li><li><strong>Consolidate databases</strong>: Use elastic pools for multiple databases (30-50% database savings)</li></ol><h3 id=cost-anti-patterns-to-avoid>Cost Anti-Patterns to Avoid</h3><p>Common mistakes that increase Azure costs unnecessarily:</p><ol><li><strong>Over-provisioning App Service Plans</strong>: Running S1 when B1 would suffice (400% cost increase)</li><li><strong>Premium storage for everything</strong>: Use Standard LRS for non-critical data (75% more expensive)</li><li><strong>Always-on VMs</strong>: Running 24/7 when only needed 8-10 hours/day (200% waste)</li><li><strong>No lifecycle policies</strong>: Keeping all storage in Hot tier forever (400-900% storage waste)</li><li><strong>Separate App Service Plans</strong>: One plan per app instead of consolidating (200-400% more cost)</li><li><strong>DTU databases for large workloads</strong>: Not switching to vCore (30-50% overpayment)</li><li><strong>Ignoring reserved instances</strong>: Missing 40-65% savings on stable workloads</li></ol><h3 id=monthly-cost-targets-by-environment>Monthly Cost Targets by Environment</h3><p>Set realistic cost targets based on application complexity:</p><table><thead><tr><th>Environment</th><th>Small App</th><th>Medium App</th><th>Large App</th></tr></thead><tbody><tr><td>Development</td><td>$30-80</td><td>$80-200</td><td>$200-500</td></tr><tr><td>Staging</td><td>$100-200</td><td>$200-500</td><td>$500-1000</td></tr><tr><td>Production</td><td>$400-1000</td><td>$1000-3000</td><td>$3000-10000+</td></tr></tbody></table><h3 id=additional-resources>Additional Resources</h3><p><strong>Microsoft Official Documentation:</strong></p><ul><li>Azure Cost Management and Billing: <a href=https://learn.microsoft.com/en-us/azure/cost-management-billing/>https://learn.microsoft.com/en-us/azure/cost-management-billing/</a></li><li>Azure Well-Architected Framework - Cost Optimization: <a href=https://learn.microsoft.com/en-us/azure/well-architected/cost-optimization/>https://learn.microsoft.com/en-us/azure/well-architected/cost-optimization/</a></li><li>Azure Pricing Calculator: <a href=https://azure.microsoft.com/en-us/pricing/calculator/>https://azure.microsoft.com/en-us/pricing/calculator/</a></li></ul><p><strong>Microsoft Learn Paths:</strong></p><ul><li>Control Azure spending and manage bills: <a href=https://learn.microsoft.com/en-us/training/paths/control-spending-manage-bills/>https://learn.microsoft.com/en-us/training/paths/control-spending-manage-bills/</a></li><li>Design for cost optimization: <a href=https://learn.microsoft.com/en-us/training/modules/design-for-cost-optimization/>https://learn.microsoft.com/en-us/training/modules/design-for-cost-optimization/</a></li></ul><p><strong>Community Resources:</strong></p><ul><li>Azure Cost Optimization Best Practices (Microsoft Tech Community)</li><li>Azure Friday - Cost Management episodes</li><li>Azure MVPs&rsquo; cost optimization blog posts</li></ul><p><strong>Books:</strong></p><ul><li>&ldquo;Microsoft Azure Architect Technologies Study Guide&rdquo; by Ben Lee (Sybex)</li><li>&ldquo;Cloud FinOps&rdquo; by J.R. Storment and Mike Fuller (O&rsquo;Reilly) - Cloud-agnostic FinOps principles</li></ul><p>This guide provides practical cost optimization strategies based on Microsoft&rsquo;s best practices and real-world implementations. Always validate costs using the Azure Pricing Calculator before deployment.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/farmer/tutorials/multi-tenant-saas-architecture/ title="Multi-Tenant SaaS Architecture Patterns on Azure"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/farmer/tutorials/azure-security-best-practices/ title="Azure Security Best Practices" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/farmer/js/clipboard.min.js?1764939373></script><script src=/farmer/js/perfect-scrollbar.min.js?1764939373></script><script src=/farmer/js/perfect-scrollbar.jquery.min.js?1764939373></script><script src=/farmer/js/jquery.sticky.js?1764939373></script><script src=/farmer/js/featherlight.min.js?1764939373></script><script src=/farmer/js/highlight.pack.js?1764939373></script><script>hljs.initHighlightingOnLoad();</script><script src=/farmer/js/modernizr.custom-3.6.0.js?1764939373></script><script src=/farmer/js/learn.js?1764939373></script><script src=/farmer/js/hugo-learn.js?1764939373></script><link href=/farmer/mermaid/mermaid.css?1764939373 rel=stylesheet><script src=/farmer/mermaid/mermaid.js?1764939373></script><script>mermaid.initialize({startOnLoad:true});</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-72817248-3','auto');ga('send','pageview');</script></body></html>