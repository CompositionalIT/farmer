<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content="Farmer - Making repeatable Azure deployments easy!"><link rel=icon href=/farmer/images/farmer-favicon.png type=image/png><title>Virtual Machine :: Farmer</title><link href=/farmer/css/nucleus.css?1754483664 rel=stylesheet><link href=/farmer/css/fontawesome-all.min.css?1754483664 rel=stylesheet><link href=/farmer/css/hybrid.css?1754483664 rel=stylesheet><link href=/farmer/css/featherlight.min.css?1754483664 rel=stylesheet><link href=/farmer/css/perfect-scrollbar.min.css?1754483664 rel=stylesheet><link href=/farmer/css/auto-complete.css?1754483664 rel=stylesheet><link href=/farmer/css/atom-one-dark-reasonable.css?1754483664 rel=stylesheet><link href=/farmer/css/theme.css?1754483664 rel=stylesheet><link href=/farmer/css/hugo-theme.css?1754483664 rel=stylesheet><link href=/farmer/css/theme-green.css?1754483664 rel=stylesheet><script src=/farmer/js/jquery-3.3.1.min.js?1754483664></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/farmer/api-overview/resources/virtual-machine/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/farmer/images/logo.png></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/farmer/js/lunr.min.js?1754483664></script><script type=text/javascript src=/farmer/js/auto-complete.js?1754483664></script><script type=text/javascript>var baseurl="https:\/\/compositionalit.github.io\/farmer\/";</script><script type=text/javascript src=/farmer/js/search.js?1754483664></script></div><div class=highlightable><ul class=topics><li data-nav-id=/farmer/about/ title=About class=dd-item><a href=/farmer/about/>About</a></li><li data-nav-id=/farmer/quickstarts/ title=Quickstarts class=dd-item><a href=/farmer/quickstarts/>Quickstarts</a><ul><li data-nav-id=/farmer/quickstarts/quickstart-1/ title="Your first Farmer template" class=dd-item><a href=/farmer/quickstarts/quickstart-1/>Your first Farmer template</a></li><li data-nav-id=/farmer/quickstarts/quickstart-2/ title="Working with multiple resources" class=dd-item><a href=/farmer/quickstarts/quickstart-2/>Working with multiple resources</a></li><li data-nav-id=/farmer/quickstarts/quickstart-3/ title="Deploying to Azure" class=dd-item><a href=/farmer/quickstarts/quickstart-3/>Deploying to Azure</a></li><li data-nav-id=/farmer/quickstarts/template/ title="The Farmer .NET Template" class=dd-item><a href=/farmer/quickstarts/template/>The Farmer .NET Template</a></li></ul></li><li data-nav-id=/farmer/tutorials/ title=Tutorials class=dd-item><a href=/farmer/tutorials/>Tutorials</a><ul><li data-nav-id=/farmer/tutorials/traditional-ea/ title="Traditional Enterprise Application to the Azure Cloud, managed via Farmer" class=dd-item><a href=/farmer/tutorials/traditional-ea/>Traditional Enterprise Application to the Azure Cloud, managed via Farmer</a></li><li data-nav-id=/farmer/tutorials/webapp-deploy/ title="Deploy an ASP.NET app" class=dd-item><a href=/farmer/tutorials/webapp-deploy/>Deploy an ASP.NET app</a></li><li data-nav-id=/farmer/tutorials/custom-output/ title="Custom Output with ARM Expressions" class=dd-item><a href=/farmer/tutorials/custom-output/>Custom Output with ARM Expressions</a></li><li data-nav-id=/farmer/tutorials/keyvault-certs/ title="Declarative Steps in an ARM Deployment" class=dd-item><a href=/farmer/tutorials/keyvault-certs/>Declarative Steps in an ARM Deployment</a></li><li data-nav-id=/farmer/tutorials/minecraft-server-aci/ title="Create your own Minecraft Server" class=dd-item><a href=/farmer/tutorials/minecraft-server-aci/>Create your own Minecraft Server</a></li><li data-nav-id=/farmer/tutorials/aci-fsx/ title="F# Script in a Container Group" class=dd-item><a href=/farmer/tutorials/aci-fsx/>F# Script in a Container Group</a></li><li data-nav-id=/farmer/tutorials/cosmos-backed-webapp/ title="Cosmos-backed Web App" class=dd-item><a href=/farmer/tutorials/cosmos-backed-webapp/>Cosmos-backed Web App</a></li><li data-nav-id=/farmer/tutorials/multiple-web-apps/ title="Multiple web apps" class=dd-item><a href=/farmer/tutorials/multiple-web-apps/>Multiple web apps</a></li><li data-nav-id=/farmer/tutorials/serverless-etl/ title="Serverless ETL" class=dd-item><a href=/farmer/tutorials/serverless-etl/>Serverless ETL</a></li><li data-nav-id=/farmer/tutorials/web-storage-keyvault/ title="Web App Secrets with KeyVault" class=dd-item><a href=/farmer/tutorials/web-storage-keyvault/>Web App Secrets with KeyVault</a></li></ul></li><li data-nav-id=/farmer/api-overview/ title="API Overview" class="dd-item
parent"><a href=/farmer/api-overview/>API Overview</a><ul><li data-nav-id=/farmer/api-overview/template-generation/ title="Generating templates" class=dd-item><a href=/farmer/api-overview/template-generation/>Generating templates</a></li><li data-nav-id=/farmer/api-overview/expressions/ title="ARM Expressions" class=dd-item><a href=/farmer/api-overview/expressions/>ARM Expressions</a></li><li data-nav-id=/farmer/api-overview/parameters/ title="Parameters and Variables" class=dd-item><a href=/farmer/api-overview/parameters/>Parameters and Variables</a></li><li data-nav-id=/farmer/api-overview/basic-types/ title="Basic Types" class=dd-item><a href=/farmer/api-overview/basic-types/>Basic Types</a></li><li data-nav-id=/farmer/api-overview/dependencies/ title=Dependencies class=dd-item><a href=/farmer/api-overview/dependencies/>Dependencies</a></li><li data-nav-id=/farmer/api-overview/outputs/ title=Outputs class=dd-item><a href=/farmer/api-overview/outputs/>Outputs</a></li><li data-nav-id=/farmer/api-overview/resources/ title=Resources class="dd-item
parent"><a href=/farmer/api-overview/resources/>Resources</a><ul><li data-nav-id=/farmer/api-overview/resources/b2c-tenant/ title="B2C Tenant" class=dd-item><a href=/farmer/api-overview/resources/b2c-tenant/>B2C Tenant</a></li><li data-nav-id=/farmer/api-overview/resources/action-group/ title="App Insights - Action Group" class=dd-item><a href=/farmer/api-overview/resources/action-group/>App Insights - Action Group</a></li><li data-nav-id=/farmer/api-overview/resources/application-gateway/ title="Application Gateway" class=dd-item><a href=/farmer/api-overview/resources/application-gateway/>Application Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/alert/ title="App Insights - Alerts" class=dd-item><a href=/farmer/api-overview/resources/alert/>App Insights - Alerts</a></li><li data-nav-id=/farmer/api-overview/resources/availability-tests/ title="App Insights - Availability Tests" class=dd-item><a href=/farmer/api-overview/resources/availability-tests/>App Insights - Availability Tests</a></li><li data-nav-id=/farmer/api-overview/resources/azure-firewall/ title="Azure Firewall" class=dd-item><a href=/farmer/api-overview/resources/azure-firewall/>Azure Firewall</a></li><li data-nav-id=/farmer/api-overview/resources/aks-cluster/ title="AKS Cluster" class=dd-item><a href=/farmer/api-overview/resources/aks-cluster/>AKS Cluster</a></li><li data-nav-id=/farmer/api-overview/resources/app-insights/ title="App Insights" class=dd-item><a href=/farmer/api-overview/resources/app-insights/>App Insights</a></li><li data-nav-id=/farmer/api-overview/resources/bing-search/ title="Bing Search" class=dd-item><a href=/farmer/api-overview/resources/bing-search/>Bing Search</a></li><li data-nav-id=/farmer/api-overview/resources/bastion-host/ title="Bastion Host" class=dd-item><a href=/farmer/api-overview/resources/bastion-host/>Bastion Host</a></li><li data-nav-id=/farmer/api-overview/resources/container-apps/ title="Container Apps" class=dd-item><a href=/farmer/api-overview/resources/container-apps/>Container Apps</a></li><li data-nav-id=/farmer/api-overview/resources/communication-services/ title="Communication Services" class=dd-item><a href=/farmer/api-overview/resources/communication-services/>Communication Services</a></li><li data-nav-id=/farmer/api-overview/resources/container-group/ title="Container Group" class=dd-item><a href=/farmer/api-overview/resources/container-group/>Container Group</a></li><li data-nav-id=/farmer/api-overview/resources/container-registry/ title="Container Registry" class=dd-item><a href=/farmer/api-overview/resources/container-registry/>Container Registry</a></li><li data-nav-id=/farmer/api-overview/resources/cognitive-services/ title="Cognitive Services" class=dd-item><a href=/farmer/api-overview/resources/cognitive-services/>Cognitive Services</a></li><li data-nav-id=/farmer/api-overview/resources/cosmos-db/ title="Cosmos DB" class=dd-item><a href=/farmer/api-overview/resources/cosmos-db/>Cosmos DB</a></li><li data-nav-id=/farmer/api-overview/resources/cdn/ title=CDN class=dd-item><a href=/farmer/api-overview/resources/cdn/>CDN</a></li><li data-nav-id=/farmer/api-overview/resources/dns-resolver/ title="DNS Resolver" class=dd-item><a href=/farmer/api-overview/resources/dns-resolver/>DNS Resolver</a></li><li data-nav-id=/farmer/api-overview/resources/dashboard/ title=Dashboard class=dd-item><a href=/farmer/api-overview/resources/dashboard/>Dashboard</a></li><li data-nav-id=/farmer/api-overview/resources/databricks-workspace/ title="Databricks Workspace" class=dd-item><a href=/farmer/api-overview/resources/databricks-workspace/>Databricks Workspace</a></li><li data-nav-id=/farmer/api-overview/resources/deployment-script/ title="Deployment Script" class=dd-item><a href=/farmer/api-overview/resources/deployment-script/>Deployment Script</a></li><li data-nav-id=/farmer/api-overview/resources/dns/ title="DNS Zone" class=dd-item><a href=/farmer/api-overview/resources/dns/>DNS Zone</a></li><li data-nav-id=/farmer/api-overview/resources/data-lake/ title="Data Lake" class=dd-item><a href=/farmer/api-overview/resources/data-lake/>Data Lake</a></li><li data-nav-id=/farmer/api-overview/resources/diagnosticsetting/ title="Diagnostic Settings" class=dd-item><a href=/farmer/api-overview/resources/diagnosticsetting/>Diagnostic Settings</a></li><li data-nav-id=/farmer/api-overview/resources/dedicated-hosts/ title="Dedicated Hosts" class=dd-item><a href=/farmer/api-overview/resources/dedicated-hosts/>Dedicated Hosts</a></li><li data-nav-id=/farmer/api-overview/resources/route-tables/ title="Route Tables" class=dd-item><a href=/farmer/api-overview/resources/route-tables/>Route Tables</a></li><li data-nav-id=/farmer/api-overview/resources/nat-gateway/ title="NAT Gateway" class=dd-item><a href=/farmer/api-overview/resources/nat-gateway/>NAT Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/event-grid/ title="Event Grid" class=dd-item><a href=/farmer/api-overview/resources/event-grid/>Event Grid</a></li><li data-nav-id=/farmer/api-overview/resources/express-route/ title=ExpressRoute class=dd-item><a href=/farmer/api-overview/resources/express-route/>ExpressRoute</a></li><li data-nav-id=/farmer/api-overview/resources/event-hub/ title="Event Hub" class=dd-item><a href=/farmer/api-overview/resources/event-hub/>Event Hub</a></li><li data-nav-id=/farmer/api-overview/resources/network-interface/ title="Network Interface" class=dd-item><a href=/farmer/api-overview/resources/network-interface/>Network Interface</a></li><li data-nav-id=/farmer/api-overview/resources/route-server/ title="Route Server" class=dd-item><a href=/farmer/api-overview/resources/route-server/>Route Server</a></li><li data-nav-id=/farmer/api-overview/resources/functions/ title=Functions class=dd-item><a href=/farmer/api-overview/resources/functions/>Functions</a></li><li data-nav-id=/farmer/api-overview/resources/iot-hub/ title="IOT Hub" class=dd-item><a href=/farmer/api-overview/resources/iot-hub/>IOT Hub</a></li><li data-nav-id=/farmer/api-overview/resources/gallery/ title=Gallery class=dd-item><a href=/farmer/api-overview/resources/gallery/>Gallery</a></li><li data-nav-id=/farmer/api-overview/resources/image-template/ title="Image Template" class=dd-item><a href=/farmer/api-overview/resources/image-template/>Image Template</a></li><li data-nav-id=/farmer/api-overview/resources/keyvault/ title="Key Vault" class=dd-item><a href=/farmer/api-overview/resources/keyvault/>Key Vault</a></li><li data-nav-id=/farmer/api-overview/resources/private-endpoint/ title="Private Endpoint" class=dd-item><a href=/farmer/api-overview/resources/private-endpoint/>Private Endpoint</a></li><li data-nav-id=/farmer/api-overview/resources/private-link-service/ title="Private Link Service" class=dd-item><a href=/farmer/api-overview/resources/private-link-service/>Private Link Service</a></li><li data-nav-id=/farmer/api-overview/resources/logic-apps/ title="Logic Apps" class=dd-item><a href=/farmer/api-overview/resources/logic-apps/>Logic Apps</a></li><li data-nav-id=/farmer/api-overview/resources/load-balancer/ title="Load Balancer" class=dd-item><a href=/farmer/api-overview/resources/load-balancer/>Load Balancer</a></li><li data-nav-id=/farmer/api-overview/resources/loganalytics/ title="Log Analytics" class=dd-item><a href=/farmer/api-overview/resources/loganalytics/>Log Analytics</a></li><li data-nav-id=/farmer/api-overview/resources/managed-identity/ title="Managed Identity" class=dd-item><a href=/farmer/api-overview/resources/managed-identity/>Managed Identity</a></li><li data-nav-id=/farmer/api-overview/resources/maps/ title=Maps class=dd-item><a href=/farmer/api-overview/resources/maps/>Maps</a></li><li data-nav-id=/farmer/api-overview/resources/nsg/ title="Network Security Group" class=dd-item><a href=/farmer/api-overview/resources/nsg/>Network Security Group</a></li><li data-nav-id=/farmer/api-overview/resources/operations-management/ title="Operations Management" class=dd-item><a href=/farmer/api-overview/resources/operations-management/>Operations Management</a></li><li data-nav-id=/farmer/api-overview/resources/postgresql/ title=PostgreSQL class=dd-item><a href=/farmer/api-overview/resources/postgresql/>PostgreSQL</a></li><li data-nav-id=/farmer/api-overview/resources/redis/ title="Redis Cache" class=dd-item><a href=/farmer/api-overview/resources/redis/>Redis Cache</a></li><li data-nav-id=/farmer/api-overview/resources/resource-group/ title="Resource Group" class=dd-item><a href=/farmer/api-overview/resources/resource-group/>Resource Group</a></li><li data-nav-id=/farmer/api-overview/resources/signalr/ title=SignalR class=dd-item><a href=/farmer/api-overview/resources/signalr/>SignalR</a></li><li data-nav-id=/farmer/api-overview/resources/search/ title=Search class=dd-item><a href=/farmer/api-overview/resources/search/>Search</a></li><li data-nav-id=/farmer/api-overview/resources/service-bus/ title="Service Bus" class=dd-item><a href=/farmer/api-overview/resources/service-bus/>Service Bus</a></li><li data-nav-id=/farmer/api-overview/resources/sql/ title="SQL Azure" class=dd-item><a href=/farmer/api-overview/resources/sql/>SQL Azure</a></li><li data-nav-id=/farmer/api-overview/resources/static-web-app/ title="Static Web Apps" class=dd-item><a href=/farmer/api-overview/resources/static-web-app/>Static Web Apps</a></li><li data-nav-id=/farmer/api-overview/resources/storage-account/ title="Storage Account" class=dd-item><a href=/farmer/api-overview/resources/storage-account/>Storage Account</a></li><li data-nav-id=/farmer/api-overview/resources/traffic-manager/ title="Traffic Manager" class=dd-item><a href=/farmer/api-overview/resources/traffic-manager/>Traffic Manager</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-machine/ title="Virtual Machine" class="dd-item active"><a href=/farmer/api-overview/resources/virtual-machine/>Virtual Machine</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-hub/ title="Virtual Hub" class=dd-item><a href=/farmer/api-overview/resources/virtual-hub/>Virtual Hub</a></li><li data-nav-id=/farmer/api-overview/resources/vnet/ title="Virtual Network" class=dd-item><a href=/farmer/api-overview/resources/vnet/>Virtual Network</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-wan/ title="Virtual WAN" class=dd-item><a href=/farmer/api-overview/resources/virtual-wan/>Virtual WAN</a></li><li data-nav-id=/farmer/api-overview/resources/vnet-gateway/ title="Virtual Network Gateway" class=dd-item><a href=/farmer/api-overview/resources/vnet-gateway/>Virtual Network Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/vm-scale-set/ title="Virtual Machine Scale Set" class=dd-item><a href=/farmer/api-overview/resources/vm-scale-set/>Virtual Machine Scale Set</a></li><li data-nav-id=/farmer/api-overview/resources/disk/ title=Disk class=dd-item><a href=/farmer/api-overview/resources/disk/>Disk</a></li><li data-nav-id=/farmer/api-overview/resources/web-app/ title="Web App" class=dd-item><a href=/farmer/api-overview/resources/web-app/>Web App</a></li><li data-nav-id=/farmer/api-overview/resources/autoscale-settings/ title="Autoscale Settings" class=dd-item><a href=/farmer/api-overview/resources/autoscale-settings/>Autoscale Settings</a></li></ul></li></ul></li><li data-nav-id=/farmer/arm-vs-farmer/ title="Farmer and ARM" class=dd-item><a href=/farmer/arm-vs-farmer/>Farmer and ARM</a></li><li data-nav-id=/farmer/deployment-guidance/ title="Deployment Guidance" class=dd-item><a href=/farmer/deployment-guidance/>Deployment Guidance</a></li><li data-nav-id=/farmer/support/ title="Commercial Support" class=dd-item><a href=/farmer/support/>Commercial Support</a></li><li data-nav-id=/farmer/testimonials/ title=Testimonials class=dd-item><a href=/farmer/testimonials/>Testimonials</a></li><li data-nav-id=/farmer/links/ title=Links class=dd-item><a href=/farmer/links/>Links</a></li><li data-nav-id=/farmer/contributing/ title=Contributing class=dd-item><a href=/farmer/contributing/>Contributing</a><ul><li data-nav-id=/farmer/contributing/arm-basics/ title="ARM Basics" class=dd-item><a href=/farmer/contributing/arm-basics/>ARM Basics</a></li><li data-nav-id=/farmer/contributing/outputs-and-expressions/ title="Outputs and ARM Expressions" class=dd-item><a href=/farmer/contributing/outputs-and-expressions/>Outputs and ARM Expressions</a></li><li data-nav-id=/farmer/contributing/create-pull-requests/ title="Creating Pull Requests" class=dd-item><a href=/farmer/contributing/create-pull-requests/>Creating Pull Requests</a></li><li data-nav-id=/farmer/contributing/adding-resources/ title="Supporting a new ARM Resource" class=dd-item><a href=/farmer/contributing/adding-resources/>Supporting a new ARM Resource</a><ul><li data-nav-id=/farmer/contributing/adding-resources/1-the-farmer-pipline/ title="1. The Farmer Pipeline" class=dd-item><a href=/farmer/contributing/adding-resources/1-the-farmer-pipline/>1. The Farmer Pipeline</a></li><li data-nav-id=/farmer/contributing/adding-resources/2-iarm-resource/ title="2. The IArmResource" class=dd-item><a href=/farmer/contributing/adding-resources/2-iarm-resource/>2. The IArmResource</a></li><li data-nav-id=/farmer/contributing/adding-resources/3-ibuilder/ title="3. The IBuilder interface" class=dd-item><a href=/farmer/contributing/adding-resources/3-ibuilder/>3. The IBuilder interface</a></li><li data-nav-id=/farmer/contributing/adding-resources/4-creating-builder-syntax/ title="4. Providing Builder syntax" class=dd-item><a href=/farmer/contributing/adding-resources/4-creating-builder-syntax/>4. Providing Builder syntax</a></li><li data-nav-id=/farmer/contributing/adding-resources/5-unit-testing/ title="5. Unit Testing" class=dd-item><a href=/farmer/contributing/adding-resources/5-unit-testing/>5. Unit Testing</a></li></ul></li></ul></li><li data-nav-id=/farmer/faq/ title=FAQs class=dd-item><a href=/farmer/faq/>FAQs</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/compositionalit/farmer><i class="fab fa-fw fa-github"></i>GitHub repo</a></li><li><a class=padding href=https://www.nuget.org/packages/Farmer/><i class="fab fa-fw fa-microsoft"></i>Nuget</a></li><li><a class=padding href=https://compositional-it.com><img src=/farmer/images/cit.png></img> Compositional IT</a></li></ul></section><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/CompositionalIT/farmer/tree/master/docs/content/api-overview/resources/virtual-machine.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/farmer/>Farmer</a> > <a href=/farmer/api-overview/>API Overview</a> > <a href=/farmer/api-overview/resources/>Resources</a> > Virtual Machine</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Virtual Machine</h1><h4 id=overview>Overview</h4><p>The Virtual Machine builder creates a fully configured virtual machine and all its required child resources.</p><ul><li>Virtual Machines (<code>Microsoft.Compute/virtualMachines</code>)</li><li>Virtual Networks (<code>Microsoft.Network/virtualNetworks</code>)</li><li>IP Addresses (<code>Microsoft.Network/publicIPAddresses</code>)</li><li>Network Interfaces (<code>Microsoft.Network/networkInterfaces</code>)</li><li>Storage Accounts (<code>Microsoft.Storage/storageAccounts</code>)</li></ul><p>In addition, every VM you create will add a SecureString parameter to the ARM template, whose name follows the pattern <strong>password-for-[virtual machine name]</strong>.</p><h4 id=builder-keywords>Builder Keywords</h4><table><thead><tr><th>Keyword</th><th>Purpose</th></tr></thead><tbody><tr><td>name</td><td>Sets the name of the VM.</td></tr><tr><td>diagnostics_support</td><td>Turns on diagnostics support using an automatically created storage account.</td></tr><tr><td>diagnostics_support_managed</td><td>Turns on diagnostics support using an Azure-managed storage account.</td></tr><tr><td>diagnostics_support_external</td><td>Turns on diagnostics support using an existing storage account.</td></tr><tr><td>encryption_at_host</td><td>This property can be used by user in the request to enable or disable the Host Encryption for the virtual machine or virtual machine scale set. This will enable the encryption for all the disks including Resource/Temp disk at host itself. The default behavior is: The Encryption at host will be disabled unless this property is set to true for the resource.</td></tr><tr><td>encryption_identity</td><td>Specifies the Managed Identity used by ADE to get access token for keyvault operations.</td></tr><tr><td>proxy_agent</td><td>Specifies ProxyAgent settings while creating the virtual machine.</td></tr><tr><td>secure_boot</td><td>UEFI security settings for secure boot.</td></tr><tr><td>vtpm</td><td>UEFI security settings for vTPM.</td></tr><tr><td>security_type</td><td>Specifies the SecurityType of the virtual machine. It has to be set to any specified value to enable UefiSettings. The default behavior is: UefiSettings will not be enabled unless this property is set.</td></tr><tr><td>vm_size</td><td>Sets the size of the VM.</td></tr><tr><td>priority</td><td>Sets the VM Priority. Only one <code>spot_instance</code> or <code>priority</code> setting is allowed per VM. No priority is set by default.</td></tr><tr><td>spot_instance</td><td>Makes the VM a spot instance. Shorthand for <code>priority (Spot (&lt;EvictionPolicy>, &lt;maxPrice>)</code>. Only one <code>spot_instance</code> or <code>priority</code> setting is allowed per VM.</td></tr><tr><td>username</td><td>Sets the admin username of the VM (note: the password is supplied as a securestring parameter to the generated ARM template).</td></tr><tr><td>password_parameter</td><td>Sets the name of the parameter which contains the admin password for this VM. defaults to &ldquo;password-for-&rdquo;</td></tr><tr><td>add_availability_zone</td><td>Sets the availability zone for the VM.</td></tr><tr><td>operating_system</td><td>Sets the operating system of the VM. A set of samples is provided in the <code>CommonImages</code> module.</td></tr><tr><td>os_disk</td><td>Sets the size and type of the OS disk for the VM. Note: The default is non-SSD.</td></tr><tr><td>add_disk</td><td>Adds a data disk to the VM with a specific size and type.</td></tr><tr><td>add_ssd_disk</td><td>Adds an SSD data disk to the VM with a specific size.</td></tr><tr><td>add_slow_disk</td><td>Adds a conventional (non-SSD) data disk to the VM with a specific size.</td></tr><tr><td>attach_os_disk</td><td>Attaches a newly imported managed disk to the VM as the OS disk. The OS (Windows or Linux) for the image must be specified. When attaching an OS disk, the OS settings such as username, password, and <code>configData</code> cannot be set.</td></tr><tr><td>attach_existing_os_disk</td><td>Attaches an existing managed disk to the VM as the OS disk.</td></tr><tr><td>attach_data_disk</td><td>Attaches a newly imported managed disk to the VM as a data disk.</td></tr><tr><td>attach_existing_data_disk</td><td>Attaches an existing managed disk to the VM as a data disk.</td></tr><tr><td>no_data_disk</td><td>Excludes a data disk (only an OS disk) - common when mounting cloud storage.</td></tr><tr><td>domain_name_prefix</td><td>Sets the prefix for the domain name of the VM.</td></tr><tr><td>address_prefix</td><td>Sets the IP address prefix of the VM.</td></tr><tr><td>subnet_prefix</td><td>Sets the subnet prefix of the VM.</td></tr><tr><td>custom_script</td><td>Executes the supplied inline custom script on the VM. Supports only one command. Alternatively, you can connect VM e.g. with Powershell Invoke-AzVMRunCommand.</td></tr><tr><td>custom_script_files</td><td>Uploads the supplied set of files, specified by URI, to the VM on creation.</td></tr><tr><td>aad_ssh_login</td><td>Adds the <code>AADSSHLoginForLinux</code> extension on Linux VM&rsquo;s (requires <code>system_identity</code>).</td></tr><tr><td>custom_data</td><td>Sets the custom data field for the VM.</td></tr><tr><td>disable_password_authentication</td><td>Disables password authentication on the VM. Must include at least one key if true</td></tr><tr><td>add_application_security_groups</td><td>Assign this VM to one or more application security groups</td></tr><tr><td>add_authorized_key</td><td>adds one authorized key</td></tr><tr><td>add_authorized_keys</td><td>adds a list of authorized keys</td></tr><tr><td>add_gallery_applications</td><td>Adds one or more gallery applications to this VM.</td></tr><tr><td>add_gallery_applications_install_order</td><td>Adds one or more gallery applications and sets the install order in the order they are added.</td></tr><tr><td>add_identity</td><td>Adds a managed identity to the Virtual Machine.</td></tr><tr><td>system_identity</td><td>Activates the system identity of the Virtual Machine.</td></tr><tr><td>public_ip</td><td>Specifies or removes the public IP for this VM</td></tr><tr><td>public_ip_sku</td><td>Specify the Public IP SKU for the generated Public IP resource.</td></tr><tr><td>ip_allocation</td><td>Sets the <em>public</em> IP as Dynamic or Static. The default is dynamic.</td></tr><tr><td>private_ip_allocation</td><td>Sets the <em>private</em> IP as Dynamic or Static. The default is dynamic.</td></tr><tr><td>ip_forwarding</td><td>Enable or disable IP forwarding on the primary network interface. Secondary NICs will leave it undefined.</td></tr><tr><td>accelerated_networking</td><td>Enable or disable accelerated networking on all network interfaces generated for the VM.</td></tr><tr><td>add_ip_configuration</td><td>Add <code>ipConfig</code> definitions to add additional IP addresses or connect to multiple subnets. Connecting to additional subnets will generate a NIC for each subnet.</td></tr><tr><td>network_security_group</td><td>Sets the Network Security Group (NSG) for VM/NIC. Enables you to create and share firewall rule sets.</td></tr><tr><td>link_to_network_security_group</td><td>Specify an existing Network Security Group (NSG) for VM/NIC.</td></tr><tr><td>link_application_security_groups</td><td>Link this VM to one or more application security groups (no dependency generated).</td></tr><tr><td>link_to_vnet</td><td>Attaches the VM NIC to a vnet that is deployed in this same template</td></tr><tr><td>link_to_unmanaged_vnet</td><td>Attaches the VM NIC to a vnet that is already deployed</td></tr><tr><td>link_to_backend_address_pool</td><td>Adds the VM network interface to a load balancer backend address pool that is deployed with this VM.</td></tr><tr><td>link_to_unmanaged_backend_address_pool</td><td>Adds the VM network interface to an existing load balancer backend address pool.</td></tr></tbody></table><h5 id=vm-gallery-application-builder>VM Gallery Application Builder</h5><p>The <code>vmGalleryApplicationBuilder</code> is used to add a gallery application to a VM.</p><table><thead><tr><th>Keyword</th><th>Purpose</th></tr></thead><tbody><tr><td>enable_automatic_upgrade</td><td>Optional. Enables automatic upgrade of the application when a new version is released.</td></tr><tr><td>order</td><td>Optional. The order in which applications should be installed.</td></tr><tr><td>package_reference_id</td><td>Required. References an existing gallery application version to install on the VM.</td></tr><tr><td>tags</td><td>Optional. Specifies a passthrough value for a more generic context.</td></tr><tr><td>treat_failure_as_deployment_failure</td><td>Optional. If true, any failure for any operation in the VmApplication will fail the deployment</td></tr></tbody></table><h4 id=configuration-members>Configuration Members</h4><table><thead><tr><th>Member</th><th>Purpose</th></tr></thead><tbody><tr><td>NicName</td><td>Provides the resource name of the Network Interface Card (NIC)</td></tr><tr><td>VnetName</td><td>Provides the resource name of the Virtual Network (VNet)</td></tr><tr><td>SubnetName</td><td>Provides the resource name of the subnet</td></tr><tr><td>IpName</td><td>Provides the resource name of the IP Address</td></tr><tr><td>PublicIpAddress</td><td>Returns an ARM expression to retrieve the public IP address of the virtual machine.</td></tr><tr><td>Hostname</td><td>Returns an ARM expression to retrieve the fully-qualified domain name from the virtual machine&rsquo;s DNS settings.&rdquo;</td></tr></tbody></table><h4 id=example>Example</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#66d9ef>open</span> Farmer
<span style=color:#66d9ef>open</span> Farmer.Builders

<span style=color:#66d9ef>let</span> myVm <span style=color:#f92672>=</span> vm <span style=color:#f92672>{</span>
    name <span style=color:#e6db74>&#34;myFarmerVm&#34;</span>
    username <span style=color:#e6db74>&#34;yourUsername&#34;</span>
    vm_size Vm.Standard_A2
    operating_system Vm.WindowsServer_2012Datacenter
    os_disk 128 Vm.StandardSSD_LRS
    add_ssd_disk 128
    add_slow_disk 512
    custom_script <span style=color:#e6db74>&#34;powershell setup-vm.ps1&#34;</span> <span style=color:#75715e>// you have to actually *call* the script
</span><span style=color:#75715e></span>    custom_script_files <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;https://foo.bar/foo/setup-vm.ps1&#34;</span> <span style=color:#f92672>]</span>
    custom_data <span style=color:#e6db74>&#34;customData&#34;</span>
    disable_password_authentication <span style=color:#66d9ef>true</span>
    add_authorized_key <span style=color:#e6db74>&#34;fooPath&#34;</span> <span style=color:#e6db74>&#34;fooKey&#34;</span>
    add_authorized_keys <span style=color:#f92672>[(</span><span style=color:#e6db74>&#34;fooPath&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;fooKey&#34;</span><span style=color:#f92672>);(</span><span style=color:#e6db74>&#34;fooPath1&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;fooKey1&#34;</span><span style=color:#f92672>)]</span>
    private_ip_allocation <span style=color:#f92672>(</span>PrivateIpAddress.StaticPrivateIp <span style=color:#f92672>(</span>Net.IPAddress.Parse<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;10.0.0.10&#34;</span><span style=color:#f92672>)))</span>
<span style=color:#f92672>}</span>
</code></pre></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/farmer/api-overview/resources/traffic-manager/ title="Traffic Manager"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/farmer/api-overview/resources/virtual-hub/ title="Virtual Hub" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/farmer/js/clipboard.min.js?1754483664></script><script src=/farmer/js/perfect-scrollbar.min.js?1754483664></script><script src=/farmer/js/perfect-scrollbar.jquery.min.js?1754483664></script><script src=/farmer/js/jquery.sticky.js?1754483664></script><script src=/farmer/js/featherlight.min.js?1754483664></script><script src=/farmer/js/highlight.pack.js?1754483664></script><script>hljs.initHighlightingOnLoad();</script><script src=/farmer/js/modernizr.custom-3.6.0.js?1754483664></script><script src=/farmer/js/learn.js?1754483664></script><script src=/farmer/js/hugo-learn.js?1754483664></script><link href=/farmer/mermaid/mermaid.css?1754483664 rel=stylesheet><script src=/farmer/mermaid/mermaid.js?1754483664></script><script>mermaid.initialize({startOnLoad:true});</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-72817248-3','auto');ga('send','pageview');</script></body></html>