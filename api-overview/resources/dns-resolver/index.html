<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content="Farmer - Making repeatable Azure deployments easy!"><link rel=icon href=/farmer/images/farmer-favicon.png type=image/png><title>DNS Resolver :: Farmer</title><link href=/farmer/css/nucleus.css?1759917186 rel=stylesheet><link href=/farmer/css/fontawesome-all.min.css?1759917186 rel=stylesheet><link href=/farmer/css/hybrid.css?1759917186 rel=stylesheet><link href=/farmer/css/featherlight.min.css?1759917186 rel=stylesheet><link href=/farmer/css/perfect-scrollbar.min.css?1759917186 rel=stylesheet><link href=/farmer/css/auto-complete.css?1759917186 rel=stylesheet><link href=/farmer/css/atom-one-dark-reasonable.css?1759917186 rel=stylesheet><link href=/farmer/css/theme.css?1759917186 rel=stylesheet><link href=/farmer/css/hugo-theme.css?1759917186 rel=stylesheet><link href=/farmer/css/theme-green.css?1759917186 rel=stylesheet><script src=/farmer/js/jquery-3.3.1.min.js?1759917186></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/farmer/api-overview/resources/dns-resolver/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/farmer/images/logo.png></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/farmer/js/lunr.min.js?1759917186></script><script type=text/javascript src=/farmer/js/auto-complete.js?1759917186></script><script type=text/javascript>var baseurl="https:\/\/compositionalit.github.io\/farmer\/";</script><script type=text/javascript src=/farmer/js/search.js?1759917186></script></div><div class=highlightable><ul class=topics><li data-nav-id=/farmer/about/ title=About class=dd-item><a href=/farmer/about/>About</a></li><li data-nav-id=/farmer/quickstarts/ title=Quickstarts class=dd-item><a href=/farmer/quickstarts/>Quickstarts</a><ul><li data-nav-id=/farmer/quickstarts/quickstart-1/ title="Your first Farmer template" class=dd-item><a href=/farmer/quickstarts/quickstart-1/>Your first Farmer template</a></li><li data-nav-id=/farmer/quickstarts/quickstart-2/ title="Working with multiple resources" class=dd-item><a href=/farmer/quickstarts/quickstart-2/>Working with multiple resources</a></li><li data-nav-id=/farmer/quickstarts/quickstart-3/ title="Deploying to Azure" class=dd-item><a href=/farmer/quickstarts/quickstart-3/>Deploying to Azure</a></li><li data-nav-id=/farmer/quickstarts/template/ title="The Farmer .NET Template" class=dd-item><a href=/farmer/quickstarts/template/>The Farmer .NET Template</a></li></ul></li><li data-nav-id=/farmer/tutorials/ title=Tutorials class=dd-item><a href=/farmer/tutorials/>Tutorials</a><ul><li data-nav-id=/farmer/tutorials/traditional-ea/ title="Traditional Enterprise Application to the Azure Cloud, managed via Farmer" class=dd-item><a href=/farmer/tutorials/traditional-ea/>Traditional Enterprise Application to the Azure Cloud, managed via Farmer</a></li><li data-nav-id=/farmer/tutorials/webapp-deploy/ title="Deploy an ASP.NET app" class=dd-item><a href=/farmer/tutorials/webapp-deploy/>Deploy an ASP.NET app</a></li><li data-nav-id=/farmer/tutorials/custom-output/ title="Custom Output with ARM Expressions" class=dd-item><a href=/farmer/tutorials/custom-output/>Custom Output with ARM Expressions</a></li><li data-nav-id=/farmer/tutorials/keyvault-certs/ title="Declarative Steps in an ARM Deployment" class=dd-item><a href=/farmer/tutorials/keyvault-certs/>Declarative Steps in an ARM Deployment</a></li><li data-nav-id=/farmer/tutorials/minecraft-server-aci/ title="Create your own Minecraft Server" class=dd-item><a href=/farmer/tutorials/minecraft-server-aci/>Create your own Minecraft Server</a></li><li data-nav-id=/farmer/tutorials/aci-fsx/ title="F# Script in a Container Group" class=dd-item><a href=/farmer/tutorials/aci-fsx/>F# Script in a Container Group</a></li><li data-nav-id=/farmer/tutorials/cosmos-backed-webapp/ title="Cosmos-backed Web App" class=dd-item><a href=/farmer/tutorials/cosmos-backed-webapp/>Cosmos-backed Web App</a></li><li data-nav-id=/farmer/tutorials/multiple-web-apps/ title="Multiple web apps" class=dd-item><a href=/farmer/tutorials/multiple-web-apps/>Multiple web apps</a></li><li data-nav-id=/farmer/tutorials/serverless-etl/ title="Serverless ETL" class=dd-item><a href=/farmer/tutorials/serverless-etl/>Serverless ETL</a></li><li data-nav-id=/farmer/tutorials/web-storage-keyvault/ title="Web App Secrets with KeyVault" class=dd-item><a href=/farmer/tutorials/web-storage-keyvault/>Web App Secrets with KeyVault</a></li></ul></li><li data-nav-id=/farmer/api-overview/ title="API Overview" class="dd-item
parent"><a href=/farmer/api-overview/>API Overview</a><ul><li data-nav-id=/farmer/api-overview/template-generation/ title="Generating templates" class=dd-item><a href=/farmer/api-overview/template-generation/>Generating templates</a></li><li data-nav-id=/farmer/api-overview/expressions/ title="ARM Expressions" class=dd-item><a href=/farmer/api-overview/expressions/>ARM Expressions</a></li><li data-nav-id=/farmer/api-overview/parameters/ title="Parameters and Variables" class=dd-item><a href=/farmer/api-overview/parameters/>Parameters and Variables</a></li><li data-nav-id=/farmer/api-overview/basic-types/ title="Basic Types" class=dd-item><a href=/farmer/api-overview/basic-types/>Basic Types</a></li><li data-nav-id=/farmer/api-overview/dependencies/ title=Dependencies class=dd-item><a href=/farmer/api-overview/dependencies/>Dependencies</a></li><li data-nav-id=/farmer/api-overview/outputs/ title=Outputs class=dd-item><a href=/farmer/api-overview/outputs/>Outputs</a></li><li data-nav-id=/farmer/api-overview/resources/ title=Resources class="dd-item
parent"><a href=/farmer/api-overview/resources/>Resources</a><ul><li data-nav-id=/farmer/api-overview/resources/prometheus-rule-group/ title="Alert Management - Prometheus Rule Groups" class=dd-item><a href=/farmer/api-overview/resources/prometheus-rule-group/>Alert Management - Prometheus Rule Groups</a></li><li data-nav-id=/farmer/api-overview/resources/data-collection/ title="Azure Monitor - Data Collection" class=dd-item><a href=/farmer/api-overview/resources/data-collection/>Azure Monitor - Data Collection</a></li><li data-nav-id=/farmer/api-overview/resources/b2c-tenant/ title="B2C Tenant" class=dd-item><a href=/farmer/api-overview/resources/b2c-tenant/>B2C Tenant</a></li><li data-nav-id=/farmer/api-overview/resources/action-group/ title="App Insights - Action Group" class=dd-item><a href=/farmer/api-overview/resources/action-group/>App Insights - Action Group</a></li><li data-nav-id=/farmer/api-overview/resources/application-gateway/ title="Application Gateway" class=dd-item><a href=/farmer/api-overview/resources/application-gateway/>Application Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/alert/ title="App Insights - Alerts" class=dd-item><a href=/farmer/api-overview/resources/alert/>App Insights - Alerts</a></li><li data-nav-id=/farmer/api-overview/resources/availability-tests/ title="App Insights - Availability Tests" class=dd-item><a href=/farmer/api-overview/resources/availability-tests/>App Insights - Availability Tests</a></li><li data-nav-id=/farmer/api-overview/resources/azure-firewall/ title="Azure Firewall" class=dd-item><a href=/farmer/api-overview/resources/azure-firewall/>Azure Firewall</a></li><li data-nav-id=/farmer/api-overview/resources/aks-cluster/ title="AKS Cluster" class=dd-item><a href=/farmer/api-overview/resources/aks-cluster/>AKS Cluster</a></li><li data-nav-id=/farmer/api-overview/resources/app-insights/ title="App Insights" class=dd-item><a href=/farmer/api-overview/resources/app-insights/>App Insights</a></li><li data-nav-id=/farmer/api-overview/resources/bing-search/ title="Bing Search" class=dd-item><a href=/farmer/api-overview/resources/bing-search/>Bing Search</a></li><li data-nav-id=/farmer/api-overview/resources/bastion-host/ title="Bastion Host" class=dd-item><a href=/farmer/api-overview/resources/bastion-host/>Bastion Host</a></li><li data-nav-id=/farmer/api-overview/resources/container-apps/ title="Container Apps" class=dd-item><a href=/farmer/api-overview/resources/container-apps/>Container Apps</a></li><li data-nav-id=/farmer/api-overview/resources/communication-services/ title="Communication Services" class=dd-item><a href=/farmer/api-overview/resources/communication-services/>Communication Services</a></li><li data-nav-id=/farmer/api-overview/resources/container-group/ title="Container Group" class=dd-item><a href=/farmer/api-overview/resources/container-group/>Container Group</a></li><li data-nav-id=/farmer/api-overview/resources/container-registry/ title="Container Registry" class=dd-item><a href=/farmer/api-overview/resources/container-registry/>Container Registry</a></li><li data-nav-id=/farmer/api-overview/resources/cognitive-services/ title="Cognitive Services" class=dd-item><a href=/farmer/api-overview/resources/cognitive-services/>Cognitive Services</a></li><li data-nav-id=/farmer/api-overview/resources/cosmos-db/ title="Cosmos DB" class=dd-item><a href=/farmer/api-overview/resources/cosmos-db/>Cosmos DB</a></li><li data-nav-id=/farmer/api-overview/resources/cdn/ title=CDN class=dd-item><a href=/farmer/api-overview/resources/cdn/>CDN</a></li><li data-nav-id=/farmer/api-overview/resources/dns-resolver/ title="DNS Resolver" class="dd-item active"><a href=/farmer/api-overview/resources/dns-resolver/>DNS Resolver</a></li><li data-nav-id=/farmer/api-overview/resources/dashboard/ title=Dashboard class=dd-item><a href=/farmer/api-overview/resources/dashboard/>Dashboard</a></li><li data-nav-id=/farmer/api-overview/resources/databricks-workspace/ title="Databricks Workspace" class=dd-item><a href=/farmer/api-overview/resources/databricks-workspace/>Databricks Workspace</a></li><li data-nav-id=/farmer/api-overview/resources/deployment-script/ title="Deployment Script" class=dd-item><a href=/farmer/api-overview/resources/deployment-script/>Deployment Script</a></li><li data-nav-id=/farmer/api-overview/resources/dns/ title="DNS Zone" class=dd-item><a href=/farmer/api-overview/resources/dns/>DNS Zone</a></li><li data-nav-id=/farmer/api-overview/resources/data-lake/ title="Data Lake" class=dd-item><a href=/farmer/api-overview/resources/data-lake/>Data Lake</a></li><li data-nav-id=/farmer/api-overview/resources/diagnosticsetting/ title="Diagnostic Settings" class=dd-item><a href=/farmer/api-overview/resources/diagnosticsetting/>Diagnostic Settings</a></li><li data-nav-id=/farmer/api-overview/resources/dedicated-hosts/ title="Dedicated Hosts" class=dd-item><a href=/farmer/api-overview/resources/dedicated-hosts/>Dedicated Hosts</a></li><li data-nav-id=/farmer/api-overview/resources/route-tables/ title="Route Tables" class=dd-item><a href=/farmer/api-overview/resources/route-tables/>Route Tables</a></li><li data-nav-id=/farmer/api-overview/resources/nat-gateway/ title="NAT Gateway" class=dd-item><a href=/farmer/api-overview/resources/nat-gateway/>NAT Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/event-grid/ title="Event Grid" class=dd-item><a href=/farmer/api-overview/resources/event-grid/>Event Grid</a></li><li data-nav-id=/farmer/api-overview/resources/express-route/ title=ExpressRoute class=dd-item><a href=/farmer/api-overview/resources/express-route/>ExpressRoute</a></li><li data-nav-id=/farmer/api-overview/resources/event-hub/ title="Event Hub" class=dd-item><a href=/farmer/api-overview/resources/event-hub/>Event Hub</a></li><li data-nav-id=/farmer/api-overview/resources/network-interface/ title="Network Interface" class=dd-item><a href=/farmer/api-overview/resources/network-interface/>Network Interface</a></li><li data-nav-id=/farmer/api-overview/resources/route-server/ title="Route Server" class=dd-item><a href=/farmer/api-overview/resources/route-server/>Route Server</a></li><li data-nav-id=/farmer/api-overview/resources/functions/ title=Functions class=dd-item><a href=/farmer/api-overview/resources/functions/>Functions</a></li><li data-nav-id=/farmer/api-overview/resources/iot-hub/ title="IOT Hub" class=dd-item><a href=/farmer/api-overview/resources/iot-hub/>IOT Hub</a></li><li data-nav-id=/farmer/api-overview/resources/gallery/ title=Gallery class=dd-item><a href=/farmer/api-overview/resources/gallery/>Gallery</a></li><li data-nav-id=/farmer/api-overview/resources/image-template/ title="Image Template" class=dd-item><a href=/farmer/api-overview/resources/image-template/>Image Template</a></li><li data-nav-id=/farmer/api-overview/resources/keyvault/ title="Key Vault" class=dd-item><a href=/farmer/api-overview/resources/keyvault/>Key Vault</a></li><li data-nav-id=/farmer/api-overview/resources/private-endpoint/ title="Private Endpoint" class=dd-item><a href=/farmer/api-overview/resources/private-endpoint/>Private Endpoint</a></li><li data-nav-id=/farmer/api-overview/resources/private-link-service/ title="Private Link Service" class=dd-item><a href=/farmer/api-overview/resources/private-link-service/>Private Link Service</a></li><li data-nav-id=/farmer/api-overview/resources/logic-apps/ title="Logic Apps" class=dd-item><a href=/farmer/api-overview/resources/logic-apps/>Logic Apps</a></li><li data-nav-id=/farmer/api-overview/resources/load-balancer/ title="Load Balancer" class=dd-item><a href=/farmer/api-overview/resources/load-balancer/>Load Balancer</a></li><li data-nav-id=/farmer/api-overview/resources/loganalytics/ title="Log Analytics" class=dd-item><a href=/farmer/api-overview/resources/loganalytics/>Log Analytics</a></li><li data-nav-id=/farmer/api-overview/resources/managed-identity/ title="Managed Identity" class=dd-item><a href=/farmer/api-overview/resources/managed-identity/>Managed Identity</a></li><li data-nav-id=/farmer/api-overview/resources/maps/ title=Maps class=dd-item><a href=/farmer/api-overview/resources/maps/>Maps</a></li><li data-nav-id=/farmer/api-overview/resources/nsg/ title="Network Security Group" class=dd-item><a href=/farmer/api-overview/resources/nsg/>Network Security Group</a></li><li data-nav-id=/farmer/api-overview/resources/operations-management/ title="Operations Management" class=dd-item><a href=/farmer/api-overview/resources/operations-management/>Operations Management</a></li><li data-nav-id=/farmer/api-overview/resources/postgresql/ title=PostgreSQL class=dd-item><a href=/farmer/api-overview/resources/postgresql/>PostgreSQL</a></li><li data-nav-id=/farmer/api-overview/resources/redis/ title="Redis Cache" class=dd-item><a href=/farmer/api-overview/resources/redis/>Redis Cache</a></li><li data-nav-id=/farmer/api-overview/resources/resource-group/ title="Resource Group" class=dd-item><a href=/farmer/api-overview/resources/resource-group/>Resource Group</a></li><li data-nav-id=/farmer/api-overview/resources/signalr/ title=SignalR class=dd-item><a href=/farmer/api-overview/resources/signalr/>SignalR</a></li><li data-nav-id=/farmer/api-overview/resources/search/ title=Search class=dd-item><a href=/farmer/api-overview/resources/search/>Search</a></li><li data-nav-id=/farmer/api-overview/resources/service-bus/ title="Service Bus" class=dd-item><a href=/farmer/api-overview/resources/service-bus/>Service Bus</a></li><li data-nav-id=/farmer/api-overview/resources/sql/ title="SQL Azure" class=dd-item><a href=/farmer/api-overview/resources/sql/>SQL Azure</a></li><li data-nav-id=/farmer/api-overview/resources/static-web-app/ title="Static Web Apps" class=dd-item><a href=/farmer/api-overview/resources/static-web-app/>Static Web Apps</a></li><li data-nav-id=/farmer/api-overview/resources/storage-account/ title="Storage Account" class=dd-item><a href=/farmer/api-overview/resources/storage-account/>Storage Account</a></li><li data-nav-id=/farmer/api-overview/resources/traffic-manager/ title="Traffic Manager" class=dd-item><a href=/farmer/api-overview/resources/traffic-manager/>Traffic Manager</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-machine/ title="Virtual Machine" class=dd-item><a href=/farmer/api-overview/resources/virtual-machine/>Virtual Machine</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-hub/ title="Virtual Hub" class=dd-item><a href=/farmer/api-overview/resources/virtual-hub/>Virtual Hub</a></li><li data-nav-id=/farmer/api-overview/resources/vnet/ title="Virtual Network" class=dd-item><a href=/farmer/api-overview/resources/vnet/>Virtual Network</a></li><li data-nav-id=/farmer/api-overview/resources/virtual-wan/ title="Virtual WAN" class=dd-item><a href=/farmer/api-overview/resources/virtual-wan/>Virtual WAN</a></li><li data-nav-id=/farmer/api-overview/resources/vnet-gateway/ title="Virtual Network Gateway" class=dd-item><a href=/farmer/api-overview/resources/vnet-gateway/>Virtual Network Gateway</a></li><li data-nav-id=/farmer/api-overview/resources/vm-scale-set/ title="Virtual Machine Scale Set" class=dd-item><a href=/farmer/api-overview/resources/vm-scale-set/>Virtual Machine Scale Set</a></li><li data-nav-id=/farmer/api-overview/resources/disk/ title=Disk class=dd-item><a href=/farmer/api-overview/resources/disk/>Disk</a></li><li data-nav-id=/farmer/api-overview/resources/web-app/ title="Web App" class=dd-item><a href=/farmer/api-overview/resources/web-app/>Web App</a></li><li data-nav-id=/farmer/api-overview/resources/autoscale-settings/ title="Autoscale Settings" class=dd-item><a href=/farmer/api-overview/resources/autoscale-settings/>Autoscale Settings</a></li></ul></li></ul></li><li data-nav-id=/farmer/arm-vs-farmer/ title="Farmer and ARM" class=dd-item><a href=/farmer/arm-vs-farmer/>Farmer and ARM</a></li><li data-nav-id=/farmer/deployment-guidance/ title="Deployment Guidance" class=dd-item><a href=/farmer/deployment-guidance/>Deployment Guidance</a></li><li data-nav-id=/farmer/support/ title="Commercial Support" class=dd-item><a href=/farmer/support/>Commercial Support</a></li><li data-nav-id=/farmer/testimonials/ title=Testimonials class=dd-item><a href=/farmer/testimonials/>Testimonials</a></li><li data-nav-id=/farmer/links/ title=Links class=dd-item><a href=/farmer/links/>Links</a></li><li data-nav-id=/farmer/contributing/ title=Contributing class=dd-item><a href=/farmer/contributing/>Contributing</a><ul><li data-nav-id=/farmer/contributing/arm-basics/ title="ARM Basics" class=dd-item><a href=/farmer/contributing/arm-basics/>ARM Basics</a></li><li data-nav-id=/farmer/contributing/outputs-and-expressions/ title="Outputs and ARM Expressions" class=dd-item><a href=/farmer/contributing/outputs-and-expressions/>Outputs and ARM Expressions</a></li><li data-nav-id=/farmer/contributing/create-pull-requests/ title="Creating Pull Requests" class=dd-item><a href=/farmer/contributing/create-pull-requests/>Creating Pull Requests</a></li><li data-nav-id=/farmer/contributing/adding-resources/ title="Supporting a new ARM Resource" class=dd-item><a href=/farmer/contributing/adding-resources/>Supporting a new ARM Resource</a><ul><li data-nav-id=/farmer/contributing/adding-resources/1-the-farmer-pipline/ title="1. The Farmer Pipeline" class=dd-item><a href=/farmer/contributing/adding-resources/1-the-farmer-pipline/>1. The Farmer Pipeline</a></li><li data-nav-id=/farmer/contributing/adding-resources/2-iarm-resource/ title="2. The IArmResource" class=dd-item><a href=/farmer/contributing/adding-resources/2-iarm-resource/>2. The IArmResource</a></li><li data-nav-id=/farmer/contributing/adding-resources/3-ibuilder/ title="3. The IBuilder interface" class=dd-item><a href=/farmer/contributing/adding-resources/3-ibuilder/>3. The IBuilder interface</a></li><li data-nav-id=/farmer/contributing/adding-resources/4-creating-builder-syntax/ title="4. Providing Builder syntax" class=dd-item><a href=/farmer/contributing/adding-resources/4-creating-builder-syntax/>4. Providing Builder syntax</a></li><li data-nav-id=/farmer/contributing/adding-resources/5-unit-testing/ title="5. Unit Testing" class=dd-item><a href=/farmer/contributing/adding-resources/5-unit-testing/>5. Unit Testing</a></li></ul></li></ul></li><li data-nav-id=/farmer/faq/ title=FAQs class=dd-item><a href=/farmer/faq/>FAQs</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/compositionalit/farmer><i class="fab fa-fw fa-github"></i>GitHub repo</a></li><li><a class=padding href=https://www.nuget.org/packages/Farmer/><i class="fab fa-fw fa-microsoft"></i>Nuget</a></li><li><a class=padding href=https://compositional-it.com><img src=/farmer/images/cit.png></img> Compositional IT</a></li></ul></section><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/CompositionalIT/farmer/tree/master/docs/content/api-overview/resources/dns-resolver.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/farmer/>Farmer</a> > <a href=/farmer/api-overview/>API Overview</a> > <a href=/farmer/api-overview/resources/>Resources</a> > DNS Resolver</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>DNS Resolver</h1><h4 id=overview>Overview</h4><p>The DNS resolver resource provides a DNS endpoint for resources that have IP connectivity to a virtual network but
aren&rsquo;t directly attached to it such as VPN or ExpressRoute clients. It also provides outbound DNS resolution to enable
resources in the virtual network to resolve DNS using external DNS servers, such as an on-premise DNS.</p><ul><li>DNS Resolver (<code>Microsoft.Network/dnsResolvers</code>)</li><li>DNS Resolver Inbound Endpoint (<code>Microsoft.Network/dnsResolvers/inboundEndpoints</code>)</li><li>DNS Resolver Outbound Endpoint (<code>Microsoft.Network/dnsResolvers/outboundEndpoints</code>)</li><li>DNS Forwarding Ruleset (<code>Microsoft.Network/dnsForwardingRulesets</code>)</li><li>DNS Forwarding Rules (<code>Microsoft.Network/dnsForwardingRulesets/forwardingRules</code>)</li><li>DNS Forwarding Virtual Network Links (<code>Microsoft.Network/dnsForwardingRulesets/virtualNetworkLinks</code>)</li></ul><h4 id=dns-resolver-builder-keywords>DNS Resolver Builder Keywords</h4><table><thead><tr><th>Applies To</th><th>Keyword</th><th>Purpose</th></tr></thead><tbody><tr><td>dnsResolver</td><td>name</td><td>Sets the name of the DNS resolver.</td></tr><tr><td>dnsResolver</td><td>vnet</td><td>Sets the virtual network where the DNS resolver is attached.</td></tr><tr><td>dnsResolver</td><td>link_to_vnet</td><td>Links the resolver to an existing virtual network.</td></tr><tr><td>dnsResolver</td><td>inbound_subnet</td><td>If set, an inbound endpoint will be generated for this subnet with dynamic IP allocation. The subnet can only contain DNS resolver resources.</td></tr><tr><td>dnsResolver</td><td>add_inbound_endpoints</td><td>Add inbound endpoints to subnets and specify static or dynamic IP allocation.</td></tr><tr><td>dnsResolver</td><td>outbound_subnet</td><td>If set, an outbound endpoint will be generated for this subnet. The subnet can only contain DNS resolver resources.</td></tr><tr><td>dnsResolver</td><td>add_outbound_endpoints</td><td>Add outbound endpoints to additional subnets.</td></tr><tr><td>dnsResolver</td><td>depends_on</td><td>Deploy this DNS resolver after another resource is successfully deployed.</td></tr><tr><td>dnsResolver</td><td>add_tag</td><td>Adds a tag to this resource.</td></tr><tr><td>dnsResolver</td><td>add_tags</td><td>Adds a set of tags to this resource.</td></tr><tr><td>dnsInboundEndpoint</td><td>name</td><td>Sets the name of the DNS resolver inbound endpoint.</td></tr><tr><td>dnsInboundEndpoint</td><td>dns_resolver</td><td>Add the inbound endpoint to a DNS resolver in the same deployment.</td></tr><tr><td>dnsInboundEndpoint</td><td>link_to_dns_resolver</td><td>Links to an existing DNS resolver.</td></tr><tr><td>dnsInboundEndpoint</td><td>subnet</td><td>Specify a subnet in this deployment where the inbound endpoint will be added.</td></tr><tr><td>dnsInboundEndpoint</td><td>link_to_subnet</td><td>Create the inbound endpoint in an existing subnet.</td></tr><tr><td>dnsInboundEndpoint</td><td>add_dynamic_ip</td><td>Adds a dynamically assigned IP for the inbound endpoint in the subnet.</td></tr><tr><td>dnsInboundEndpoint</td><td>add_static_ip</td><td>Adds a statically assigned IP for the inbound endpoint in the subnet.</td></tr><tr><td>dnsInboundEndpoint</td><td>depends_on</td><td>Deploy this DNS inbound endpoint after another resource is successfully deployed.</td></tr><tr><td>dnsInboundEndpoint</td><td>add_tag</td><td>Adds a tag to this resource.</td></tr><tr><td>dnsInboundEndpoint</td><td>add_tags</td><td>Adds a set of tags to this resource.</td></tr><tr><td>dnsOutboundEndpoint</td><td>name</td><td>Sets the name of the DNS resolver outbound endpoint.</td></tr><tr><td>dnsOutboundEndpoint</td><td>dns_resolver</td><td>Add the outbound endpoint to a DNS resolver in the same deployment.</td></tr><tr><td>dnsOutboundEndpoint</td><td>link_to_dns_resolver</td><td>Links to an existing DNS resolver.</td></tr><tr><td>dnsOutboundEndpoint</td><td>subnet</td><td>Specify a subnet in this deployment where the outbound endpoint will be added.</td></tr><tr><td>dnsOutboundEndpoint</td><td>link_to_subnet</td><td>Create the outbound endpoint in an existing subnet.</td></tr><tr><td>dnsOutboundEndpoint</td><td>depends_on</td><td>Deploy this DNS outbound endpoint after another resource is successfully deployed.</td></tr><tr><td>dnsOutboundEndpoint</td><td>add_tag</td><td>Adds a tag to this resource.</td></tr><tr><td>dnsOutboundEndpoint</td><td>add_tags</td><td>Adds a set of tags to this resource.</td></tr><tr><td>dnsForwardingRuleset</td><td>name</td><td>Sets the name of the DNS forwarding ruleset.</td></tr><tr><td>dnsForwardingRuleset</td><td>add_resolver_outbound_endpoints</td><td>Applies this ruleset to one or more DNS resolver outbound endpoints in the same deployment.</td></tr><tr><td>dnsForwardingRuleset</td><td>add_rules</td><td>Adds one or more rules to forward DNS domain resolution to a DNS endpoint (IP and port).</td></tr><tr><td>dnsForwardingRuleset</td><td>add_vnet_links</td><td>Links this ruleset to one or more virtual networks to provide DNS resolution to resources in that virtual network. It does not need to be the same vnet where the resolver is created, but it must be in the same region.</td></tr><tr><td>dnsForwardingRuleset</td><td>depends_on</td><td>Deploy this DNS forwarding ruleset after another resource is successfully deployed.</td></tr><tr><td>dnsForwardingRuleset</td><td>add_tag</td><td>Adds a tag to this resource.</td></tr><tr><td>dnsForwardingRuleset</td><td>add_tags</td><td>Adds a set of tags to this resource.</td></tr><tr><td>dnsForwardingRule</td><td>name</td><td>Sets the name of the DNS forwarding rule.</td></tr><tr><td>dnsForwardingRule</td><td>forwarding_ruleset_id</td><td>Adds the rule an a forwarding ruleset defined in the same deployment.</td></tr><tr><td>dnsForwardingRule</td><td>domain_name</td><td>Specifies the domain to which the rules apply. A trailing dot &lsquo;.&rsquo; will be appended if not added since forwarding rules require it.</td></tr><tr><td>dnsForwardingRule</td><td>state</td><td>Enable or disable a rule.</td></tr><tr><td>dnsForwardingRule</td><td>add_target_dns_servers</td><td>Specify one or more DNS servers by IP and port as <code>System.Net.IPEndPoint</code> objects. These will be used to resolve requests for the <code>domain_name</code> in this rule.</td></tr></tbody></table><h4 id=example---inbound-endpoint>Example - Inbound Endpoint</h4><p>To provide a private resolver for resources in a virtual network, add a subnet that is delegated to DNS resolvers and
specify that as the <code>inbound_subnet</code> on a <code>dnsResolver</code> resource.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#f92672>#</span>r <span style=color:#e6db74>&#34;nuget: Farmer&#34;</span>

<span style=color:#66d9ef>open</span> Farmer
<span style=color:#66d9ef>open</span> Farmer.Builders
<span style=color:#66d9ef>open</span> Farmer.Network

arm <span style=color:#f92672>{</span>
    add_resources
        <span style=color:#f92672>[</span>
            vnet <span style=color:#f92672>{</span>
                name <span style=color:#e6db74>&#34;mynet&#34;</span>
                add_address_spaces <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;100.72.2.0/24&#34;</span> <span style=color:#f92672>]</span>

                add_subnets
                    <span style=color:#f92672>[</span>
                        subnet <span style=color:#f92672>{</span>
                            name <span style=color:#e6db74>&#34;resolver-subnet&#34;</span>
                            prefix <span style=color:#e6db74>&#34;100.72.2.240/28&#34;</span>
                            add_delegations <span style=color:#f92672>[</span> SubnetDelegationService.DnsResolvers <span style=color:#f92672>]</span>
                        <span style=color:#f92672>}</span>
                    <span style=color:#f92672>]</span>
            <span style=color:#f92672>}</span>
            dnsResolver <span style=color:#f92672>{</span>
                name <span style=color:#e6db74>&#34;my-dns-resolver&#34;</span>
                vnet <span style=color:#e6db74>&#34;mynet&#34;</span>
                inbound_subnet <span style=color:#e6db74>&#34;resolver-subnet&#34;</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
</code></pre></div><h4 id=example---outbound-endpoint-and-ruleset>Example - Outbound Endpoint and Ruleset</h4><p>To resolve DNS in a virtual network with a route to an on-premise DNS server (e.g. a vNet with a VPN gateway to
on-premise), add a subnet that is delegated to DNS resolvers and specify that as the <code>outbound_subnet</code> on
a <code>dnsResolver</code> resource. Define rules for the domains that should be forwarded to the on-premise DNS servers.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=color:#f92672>#</span>r <span style=color:#e6db74>&#34;nuget: Farmer&#34;</span>

<span style=color:#66d9ef>open</span> Farmer
<span style=color:#66d9ef>open</span> Farmer.Builders
<span style=color:#66d9ef>open</span> Farmer.Network

arm <span style=color:#f92672>{</span>
    add_resources
        <span style=color:#f92672>[</span>
            vnet <span style=color:#f92672>{</span>
                name <span style=color:#e6db74>&#34;mynet&#34;</span>
                add_address_spaces <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;100.72.2.0/24&#34;</span> <span style=color:#f92672>]</span>

                add_subnets
                    <span style=color:#f92672>[</span>
                        subnet <span style=color:#f92672>{</span>
                            name <span style=color:#e6db74>&#34;resolver-subnet&#34;</span>
                            prefix <span style=color:#e6db74>&#34;100.72.2.240/28&#34;</span>
                            add_delegations <span style=color:#f92672>[</span> SubnetDelegationService.DnsResolvers <span style=color:#f92672>]</span>
                        <span style=color:#f92672>}</span>
                    <span style=color:#f92672>]</span>
            <span style=color:#f92672>}</span>
            dnsResolver <span style=color:#f92672>{</span>
                name <span style=color:#e6db74>&#34;my-dns-resolver&#34;</span>
                vnet <span style=color:#e6db74>&#34;mynet&#34;</span>

                add_outbound_endpoints
                    <span style=color:#f92672>[</span>
                        dnsOutboundEndpoint <span style=color:#f92672>{</span>
                            name <span style=color:#e6db74>&#34;outbound-dns&#34;</span>

                            link_to_subnet <span style=color:#f92672>(</span>
                                Farmer.Arm.Network.subnets<span style=color:#f92672>.</span>resourceId <span style=color:#f92672>(</span>
                                    ResourceName <span style=color:#e6db74>&#34;mynet&#34;</span><span style=color:#f92672>,</span>
                                    ResourceName <span style=color:#e6db74>&#34;resolver-subnet&#34;</span>
                                <span style=color:#f92672>)</span>
                            <span style=color:#f92672>)</span>
                        <span style=color:#f92672>}</span>
                    <span style=color:#f92672>]</span>
            <span style=color:#f92672>}</span>
            dnsForwardingRuleset <span style=color:#f92672>{</span>
                name <span style=color:#e6db74>&#34;route-dns-requests&#34;</span>
                depends_on <span style=color:#f92672>[</span> Farmer.Arm.Network.virtualNetworks<span style=color:#f92672>.</span>resourceId <span style=color:#f92672>(</span>ResourceName <span style=color:#e6db74>&#34;mynet&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>]</span>

                add_resolver_outbound_endpoints
                    <span style=color:#f92672>[</span>
                        <span style=color:#75715e>// list of outbound endpoint IDs. These must be in a subnet that
</span><span style=color:#75715e></span>                        <span style=color:#75715e>// can reach the endpoint IPs for rules in this ruleset.
</span><span style=color:#75715e></span>                        Farmer.Arm.Dns.dnsResolverOutboundEndpoints<span style=color:#f92672>.</span>resourceId <span style=color:#f92672>(</span>
                            ResourceName <span style=color:#e6db74>&#34;my-dns-resolver&#34;</span><span style=color:#f92672>,</span>
                            ResourceName <span style=color:#e6db74>&#34;outbound-dns&#34;</span>
                        <span style=color:#f92672>)</span>
                    <span style=color:#f92672>]</span>

                add_vnet_links
                    <span style=color:#f92672>[</span>
                        <span style=color:#75715e>// List of vnet IDs that will resolve domains using this ruleset.
</span><span style=color:#75715e></span>                        Farmer.Arm.Network.virtualNetworks<span style=color:#f92672>.</span>resourceId <span style=color:#f92672>(</span>ResourceName <span style=color:#e6db74>&#34;mynet&#34;</span><span style=color:#f92672>)</span>
                    <span style=color:#f92672>]</span>

                add_rules
                    <span style=color:#f92672>[</span>
                        <span style=color:#75715e>// List of rule sets for domains in the on-premise network.
</span><span style=color:#75715e></span>                        dnsForwardingRule <span style=color:#f92672>{</span>
                            name <span style=color:#e6db74>&#34;rule-1&#34;</span>
                            domain_name <span style=color:#e6db74>&#34;example.com&#34;</span>
                            state Enabled

                            add_target_dns_servers
                                <span style=color:#f92672>[</span>
                                    <span style=color:#75715e>// On-premise DNS servers IP addresses and ports.
</span><span style=color:#75715e></span>                                    System.Net.IPEndPoint.Parse<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;192.168.100.74:53&#34;</span><span style=color:#f92672>)</span>
                                    System.Net.IPEndPoint.Parse<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;192.168.100.75:53&#34;</span><span style=color:#f92672>)</span>
                                <span style=color:#f92672>]</span>
                        <span style=color:#f92672>}</span>
                    <span style=color:#f92672>]</span>
            <span style=color:#f92672>}</span>
        <span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
</code></pre></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/farmer/api-overview/resources/cdn/ title=CDN><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/farmer/api-overview/resources/dashboard/ title=Dashboard style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/farmer/js/clipboard.min.js?1759917186></script><script src=/farmer/js/perfect-scrollbar.min.js?1759917186></script><script src=/farmer/js/perfect-scrollbar.jquery.min.js?1759917186></script><script src=/farmer/js/jquery.sticky.js?1759917186></script><script src=/farmer/js/featherlight.min.js?1759917186></script><script src=/farmer/js/highlight.pack.js?1759917186></script><script>hljs.initHighlightingOnLoad();</script><script src=/farmer/js/modernizr.custom-3.6.0.js?1759917186></script><script src=/farmer/js/learn.js?1759917186></script><script src=/farmer/js/hugo-learn.js?1759917186></script><link href=/farmer/mermaid/mermaid.css?1759917186 rel=stylesheet><script src=/farmer/mermaid/mermaid.js?1759917186></script><script>mermaid.initialize({startOnLoad:true});</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-72817248-3','auto');ga('send','pageview');</script></body></html>